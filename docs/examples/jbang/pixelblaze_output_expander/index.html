<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.80.0"><meta name=description content="Java IO Library for the Raspberry Pi"><meta name=author content="Pi4J"><link rel=icon href=/assets/favicon.ico type=image/ico><title>Pixelblaze Output Expander - Pi4J</title><link href=/css/nucleus.css?1691072249 rel=stylesheet><link href=/css/fontawesome-all.min.css?1691072249 rel=stylesheet><link href=/css/hybrid.css?1691072249 rel=stylesheet><link href=/css/featherlight.min.css?1691072249 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1691072249 rel=stylesheet><link href=/css/auto-complete.css?1691072249 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1691072249 rel=stylesheet><link href=/css/theme.css?1691072249 rel=stylesheet><link href=/css/hugo-theme.css?1691072249 rel=stylesheet><link href=/css/theme-blue.css?1691072249 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1691072249></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><style>.DocSearch{width:90%}#docsearch-input{border:none;padding-top:15px;margin:0 0 0 10px;padding:0;background:0 0}</style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3></pre></li></head><body data-url=/examples/jbang/pixelblaze_output_expander/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><img src=/assets/pi4j-header.png></a></div><div id=docsearch></div></div><section id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i>Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/about/ title=About class=dd-item><a href=/about/>About</a><ul><li data-nav-id=/about/previous-version-v1/ title="Previous versions (V.1)" class=dd-item><a href=/about/previous-version-v1/>Previous versions (V.1)</a></li><li data-nav-id=/about/new-in-v2/ title="What's New (V.2)" class=dd-item><a href=/about/new-in-v2/>What's New (V.2)</a></li><li data-nav-id=/about/release-notes/ title="Release Notes" class=dd-item><a href=/about/release-notes/>Release Notes</a></li><li data-nav-id=/about/download/ title="Pi4J Downloads" class=dd-item><a href=/about/download/>Pi4J Downloads</a></li><li data-nav-id=/about/license/ title="License (Open Source)" class=dd-item><a href=/about/license/>License (Open Source)</a></li><li data-nav-id=/about/team/ title="The Team" class=dd-item><a href=/about/team/>The Team</a></li></ul></li><li data-nav-id=/getting-started/ title="Getting started with Pi4J" class=dd-item><a href=/getting-started/>Getting started with Pi4J</a><ul><li data-nav-id=/getting-started/set-up-a-new-raspberry-pi/ title="Set up a new Raspberry Pi" class=dd-item><a href=/getting-started/set-up-a-new-raspberry-pi/>Set up a new Raspberry Pi</a></li><li data-nav-id=/getting-started/understanding-the-pins/ title="Understanding the GPIO pins" class=dd-item><a href=/getting-started/understanding-the-pins/>Understanding the GPIO pins</a></li><li data-nav-id=/getting-started/electricalengeneering/ title="Electrical Engineering" class=dd-item><a href=/getting-started/electricalengeneering/>Electrical Engineering</a></li><li data-nav-id=/getting-started/java-development-on-the-raspberry-pi-with-vsc/ title="Java development with VSC" class=dd-item><a href=/getting-started/java-development-on-the-raspberry-pi-with-vsc/>Java development with VSC</a></li><li data-nav-id=/getting-started/developing-on-a-remote-pc/ title="Developing on a remote PC" class=dd-item><a href=/getting-started/developing-on-a-remote-pc/>Developing on a remote PC</a></li><li data-nav-id=/getting-started/minimal-example-application/ title="Minimal example application" class=dd-item><a href=/getting-started/minimal-example-application/>Minimal example application</a></li><li data-nav-id=/getting-started/minimal-example-application-fatjar/ title="Minimal example as FAT JAR" class=dd-item><a href=/getting-started/minimal-example-application-fatjar/>Minimal example as FAT JAR</a></li><li data-nav-id=/getting-started/user-interface-with-javafx/ title="User interface with JavaFX" class=dd-item><a href=/getting-started/user-interface-with-javafx/>User interface with JavaFX</a></li><li data-nav-id=/getting-started/fxgl/ title="Game development with FXGL" class=dd-item><a href=/getting-started/fxgl/>Game development with FXGL</a><ul><li data-nav-id=/getting-started/fxgl/fxgl-to-picade/ title="FXGl to Picade" class=dd-item><a href=/getting-started/fxgl/fxgl-to-picade/>FXGl to Picade</a></li><li data-nav-id=/getting-started/fxgl/kiosk-mode/ title="JavaFX kiosk mode" class=dd-item><a href=/getting-started/fxgl/kiosk-mode/>JavaFX kiosk mode</a></li></ul></li><li data-nav-id=/getting-started/javafx-mvc-template/ title="JavaFX GUI and MVC template" class=dd-item><a href=/getting-started/javafx-mvc-template/>JavaFX GUI and MVC template</a></li><li data-nav-id=/getting-started/learn-more/ title="Learn more..." class=dd-item><a href=/getting-started/learn-more/>Learn more...</a></li></ul></li><li data-nav-id=/documentation/ title=Documentation class=dd-item><a href=/documentation/>Documentation</a><ul><li data-nav-id=/documentation/pin-numbering/ title="Pin numbering" class=dd-item><a href=/documentation/pin-numbering/>Pin numbering</a></li><li data-nav-id=/documentation/java-installation/ title="Java for ARMv6/7/8" class=dd-item><a href=/documentation/java-installation/>Java for ARMv6/7/8</a></li><li data-nav-id=/documentation/logging/ title="Logging with SLF4J" class=dd-item><a href=/documentation/logging/>Logging with SLF4J</a></li><li data-nav-id=/documentation/create-context/ title="Creating a Pi4J Context" class=dd-item><a href=/documentation/create-context/>Creating a Pi4J Context</a></li><li data-nav-id=/documentation/platforms/ title="Choosing a Platform" class=dd-item><a href=/documentation/platforms/>Choosing a Platform</a><ul><li data-nav-id=/documentation/platforms/raspberry-pi/ title="Raspberry Pi" class=dd-item><a href=/documentation/platforms/raspberry-pi/>Raspberry Pi</a></li></ul></li><li data-nav-id=/documentation/providers/ title="Choosing an I/O Provider" class=dd-item><a href=/documentation/providers/>Choosing an I/O Provider</a><ul><li data-nav-id=/documentation/providers/linuxfs/ title=LinuxFS class=dd-item><a href=/documentation/providers/linuxfs/>LinuxFS</a></li><li data-nav-id=/documentation/providers/pigpio/ title=PiGpio class=dd-item><a href=/documentation/providers/pigpio/>PiGpio</a></li></ul></li><li data-nav-id=/documentation/build-io/ title="Building an I/O Instance" class=dd-item><a href=/documentation/build-io/>Building an I/O Instance</a></li><li data-nav-id=/documentation/io-examples/ title="I/O Examples" class=dd-item><a href=/documentation/io-examples/>I/O Examples</a><ul><li data-nav-id=/documentation/io-examples/digital-output/ title="Digital Output (GPIO)" class=dd-item><a href=/documentation/io-examples/digital-output/>Digital Output (GPIO)</a></li><li data-nav-id=/documentation/io-examples/digital-input/ title="Digital Input (GPIO)" class=dd-item><a href=/documentation/io-examples/digital-input/>Digital Input (GPIO)</a></li><li data-nav-id=/documentation/io-examples/pwm/ title="Pulse Width Modulation (PWM)" class=dd-item><a href=/documentation/io-examples/pwm/>Pulse Width Modulation (PWM)</a></li><li data-nav-id=/documentation/io-examples/i2c/ title="Inter-Integrated Circuit (I²C)" class=dd-item><a href=/documentation/io-examples/i2c/>Inter-Integrated Circuit (I²C)</a><ul><li data-nav-id=/documentation/io-examples/i2c/clock-stretching/ title="I²C Clock Stretching" class=dd-item><a href=/documentation/io-examples/i2c/clock-stretching/>I²C Clock Stretching</a></li></ul></li><li data-nav-id=/documentation/io-examples/spi/ title="Serial Peripheral Interface (SPI)" class=dd-item><a href=/documentation/io-examples/spi/>Serial Peripheral Interface (SPI)</a></li><li data-nav-id=/documentation/io-examples/serial/ title="Serial (UART/RS232)" class=dd-item><a href=/documentation/io-examples/serial/>Serial (UART/RS232)</a></li></ul></li><li data-nav-id=/documentation/registry/ title="I/O Registry" class=dd-item><a href=/documentation/registry/>I/O Registry</a></li><li data-nav-id=/documentation/shutdown/ title="Shutting down the Pi4J Context" class=dd-item><a href=/documentation/shutdown/>Shutting down the Pi4J Context</a></li><li data-nav-id=/documentation/building/ title="Building and running" class=dd-item><a href=/documentation/building/>Building and running</a><ul><li data-nav-id=/documentation/building/javac/ title="Building with javac" class=dd-item><a href=/documentation/building/javac/>Building with javac</a></li><li data-nav-id=/documentation/building/fat-jar/ title="Build as a FAT JAR with Maven" class=dd-item><a href=/documentation/building/fat-jar/>Build as a FAT JAR with Maven</a></li><li data-nav-id=/documentation/building/modules-maven/ title="Build Java modules with Maven" class=dd-item><a href=/documentation/building/modules-maven/>Build Java modules with Maven</a></li><li data-nav-id=/documentation/building/modules-gradle/ title="Build Java modules with Gradle" class=dd-item><a href=/documentation/building/modules-gradle/>Build Java modules with Gradle</a></li><li data-nav-id=/documentation/building/jbang/ title="Running Pi4J with JBang" class=dd-item><a href=/documentation/building/jbang/>Running Pi4J with JBang</a></li></ul></li></ul></li><li data-nav-id=/examples/ title="Example Implementations" class="dd-item
parent"><a href=/examples/>Example Implementations</a><ul><li data-nav-id=/examples/components/ title="Component Examples" class=dd-item><a href=/examples/components/>Component Examples</a><ul><li data-nav-id=/examples/components/simplebutton/ title="Simple Button" class=dd-item><a href=/examples/components/simplebutton/>Simple Button</a></li><li data-nav-id=/examples/components/simpleled/ title="Simple LED" class=dd-item><a href=/examples/components/simpleled/>Simple LED</a></li><li data-nav-id=/examples/components/ads1115/ title="AD Converter ADS1115" class=dd-item><a href=/examples/components/ads1115/>AD Converter ADS1115</a></li><li data-nav-id=/examples/components/buzzer/ title=Buzzer class=dd-item><a href=/examples/components/buzzer/>Buzzer</a></li><li data-nav-id=/examples/components/camera/ title=Camera class=dd-item><a href=/examples/components/camera/>Camera</a></li><li data-nav-id=/examples/components/joystick/ title=Joystick class=dd-item><a href=/examples/components/joystick/>Joystick</a></li><li data-nav-id=/examples/components/joystickanalog/ title="Joystick Analog" class=dd-item><a href=/examples/components/joystickanalog/>Joystick Analog</a></li><li data-nav-id=/examples/components/lcddisplay/ title="LCD Display" class=dd-item><a href=/examples/components/lcddisplay/>LCD Display</a></li><li data-nav-id=/examples/components/ledbutton/ title="LED Button" class=dd-item><a href=/examples/components/ledbutton/>LED Button</a></li><li data-nav-id=/examples/components/ledmatrix/ title="LED Matrix" class=dd-item><a href=/examples/components/ledmatrix/>LED Matrix</a></li><li data-nav-id=/examples/components/ledstrip/ title="LED Strip" class=dd-item><a href=/examples/components/ledstrip/>LED Strip</a></li><li data-nav-id=/examples/components/potentiometer/ title=Potentiometer class=dd-item><a href=/examples/components/potentiometer/>Potentiometer</a></li><li data-nav-id=/examples/components/servo/ title=ServoMotor class=dd-item><a href=/examples/components/servo/>ServoMotor</a></li></ul></li><li data-nav-id=/examples/crowpi/ title="Electronics with CrowPi" class=dd-item><a href=/examples/crowpi/>Electronics with CrowPi</a><ul><li data-nav-id=/examples/crowpi/develop-crowpi-with-intellij/ title="Develop with Intellij IDEA" class=dd-item><a href=/examples/crowpi/develop-crowpi-with-intellij/>Develop with Intellij IDEA</a></li><li data-nav-id=/examples/crowpi/crowpi-examples/ title="CrowPi examples" class=dd-item><a href=/examples/crowpi/crowpi-examples/>CrowPi examples</a></li></ul></li><li data-nav-id=/examples/communityimplementation/ title="Community Implementations" class=dd-item><a href=/examples/communityimplementation/>Community Implementations</a><ul><li data-nav-id=/examples/communityimplementation/prototype-board/ title="Prototype Board" class=dd-item><a href=/examples/communityimplementation/prototype-board/>Prototype Board</a></li><li data-nav-id=/examples/communityimplementation/bmp280/ title="BMP280 Sensor" class=dd-item><a href=/examples/communityimplementation/bmp280/>BMP280 Sensor</a></li></ul></li><li data-nav-id=/examples/jbang/ title="JBang Examples" class="dd-item
parent"><a href=/examples/jbang/>JBang Examples</a><ul><li data-nav-id=/examples/jbang/jbang_minimal_example/ title="Minimal Example" class=dd-item><a href=/examples/jbang/jbang_minimal_example/>Minimal Example</a></li><li data-nav-id=/examples/jbang/bme280_temperature_humidity_pressure/ title="BME280 Sensor" class=dd-item><a href=/examples/jbang/bme280_temperature_humidity_pressure/>BME280 Sensor</a></li><li data-nav-id=/examples/jbang/pixelblaze_output_expander/ title="Pixelblaze Output Expander" class="dd-item active"><a href=/examples/jbang/pixelblaze_output_expander/>Pixelblaze Output Expander</a></li></ul></li></ul></li><li data-nav-id=/pi4j-os/ title="Pi4J Operating System" class=dd-item><a href=/pi4j-os/>Pi4J Operating System</a><ul><li data-nav-id=/pi4j-os/prepare-sd-with-pi4j-os/ title="Prepare SD with Pi4J OS" class=dd-item><a href=/pi4j-os/prepare-sd-with-pi4j-os/>Prepare SD with Pi4J OS</a></li><li data-nav-id=/pi4j-os/test-pi4j-basic-os/ title="Test Pi4J Basic OS" class=dd-item><a href=/pi4j-os/test-pi4j-basic-os/>Test Pi4J Basic OS</a></li><li data-nav-id=/pi4j-os/test-pi4j-picade-os/ title="Test Pi4J Picade OS" class=dd-item><a href=/pi4j-os/test-pi4j-picade-os/>Test Pi4J Picade OS</a></li></ul></li><li data-nav-id=/architecture/ title=Architecture/Design class=dd-item><a href=/architecture/>Architecture/Design</a><ul><li data-nav-id=/architecture/about-the-code/ title="Project source structure" class=dd-item><a href=/architecture/about-the-code/>Project source structure</a><ul><li data-nav-id=/architecture/about-the-code/download-sources/ title=Download/Install class=dd-item><a href=/architecture/about-the-code/download-sources/>Download/Install</a></li><li data-nav-id=/architecture/about-the-code/build-instructions/ title="Build Instructions" class=dd-item><a href=/architecture/about-the-code/build-instructions/>Build Instructions</a></li><li data-nav-id=/architecture/about-the-code/maven-settings/ title="Maven settings" class=dd-item><a href=/architecture/about-the-code/maven-settings/>Maven settings</a></li><li data-nav-id=/architecture/about-the-code/code-styling/ title="Code styling" class=dd-item><a href=/architecture/about-the-code/code-styling/>Code styling</a></li><li data-nav-id=/architecture/about-the-code/hardware-testing/ title="Hardware testing" class=dd-item><a href=/architecture/about-the-code/hardware-testing/>Hardware testing</a></li></ul></li><li data-nav-id=/architecture/advanced/ title=Advanced class=dd-item><a href=/architecture/advanced/>Advanced</a><ul><li data-nav-id=/architecture/advanced/annotated-provisioning/ title="Annotated provisioning" class=dd-item><a href=/architecture/advanced/annotated-provisioning/>Annotated provisioning</a></li><li data-nav-id=/architecture/advanced/dependency-injection/ title="Dependency injection" class=dd-item><a href=/architecture/advanced/dependency-injection/>Dependency injection</a></li><li data-nav-id=/architecture/advanced/library-path/ title="Native Library Path" class=dd-item><a href=/architecture/advanced/library-path/>Native Library Path</a></li><li data-nav-id=/architecture/advanced/plugins/ title=Plug-ins class=dd-item><a href=/architecture/advanced/plugins/>Plug-ins</a></li><li data-nav-id=/architecture/advanced/remote-support/ title="Remote support" class=dd-item><a href=/architecture/advanced/remote-support/>Remote support</a></li></ul></li><li data-nav-id=/architecture/pi4j-logo/ title="The Pi4J Logo" class=dd-item><a href=/architecture/pi4j-logo/>The Pi4J Logo</a></li></ul></li><li data-nav-id=/kotlin/ title="Pi4J Kotlin DSL" class=dd-item><a href=/kotlin/>Pi4J Kotlin DSL</a><ul><li data-nav-id=/kotlin/minimal-kotlin-example/ title="Minimal Kotlin Pi4J example" class=dd-item><a href=/kotlin/minimal-kotlin-example/>Minimal Kotlin Pi4J example</a></li><li data-nav-id=/kotlin/kotlin-api-docs/ title="Kotlin API & DSL Documentation" class=dd-item><a href=/kotlin/kotlin-api-docs/>Kotlin API & DSL Documentation</a></li><li data-nav-id=/kotlin/coroutines/ title="Coroutines Support" class=dd-item><a href=/kotlin/coroutines/>Coroutines Support</a></li><li data-nav-id=/kotlin/i2c/ title="I²C Kotlin DSL" class=dd-item><a href=/kotlin/i2c/>I²C Kotlin DSL</a></li><li data-nav-id=/kotlin/serial/ title="Serial Kotlin DSL" class=dd-item><a href=/kotlin/serial/>Serial Kotlin DSL</a></li></ul></li><li data-nav-id=/blog/ title=Blogs class=dd-item><a href=/blog/>Blogs</a><ul><li data-nav-id=/blog/2023/20230731_pi4j_os/ title="Pi4J Operating System" class=dd-item><a href=/blog/2023/20230731_pi4j_os/>Pi4J Operating System</a></li><li data-nav-id=/blog/2022/20221128_led_strip_with_jbang/ title="LED strip with Pi4J and JBang" class=dd-item><a href=/blog/2022/20221128_led_strip_with_jbang/>LED strip with Pi4J and JBang</a></li><li data-nav-id=/blog/2022/20221117_kotlin_on_raspberrypi/ title="Kotlin on the Raspberry Pi" class=dd-item><a href=/blog/2022/20221117_kotlin_on_raspberrypi/>Kotlin on the Raspberry Pi</a></li><li data-nav-id=/blog/2022/20220113_javafx_pi4j_template/ title="Getting Started Template" class=dd-item><a href=/blog/2022/20220113_javafx_pi4j_template/>Getting Started Template</a></li></ul></li><li data-nav-id=/featured-projects/ title="Featured Projects" class=dd-item><a href=/featured-projects/>Featured Projects</a><ul><li data-nav-id=/featured-projects/soft-real-time-plc-written-in-strolch/ title="Soft real time PLC" class=dd-item><a href=/featured-projects/soft-real-time-plc-written-in-strolch/>Soft real time PLC</a></li><li data-nav-id=/featured-projects/pijukebox-by-daniel-martensson/ title=PiJukeBox class=dd-item><a href=/featured-projects/pijukebox-by-daniel-martensson/>PiJukeBox</a></li><li data-nav-id=/featured-projects/cocktail-maker-by-alex9849/ title="Cocktail Maker" class=dd-item><a href=/featured-projects/cocktail-maker-by-alex9849/>Cocktail Maker</a></li><li data-nav-id=/featured-projects/street-artist-robot/ title="Didier the street artist robot" class=dd-item><a href=/featured-projects/street-artist-robot/>Didier the street artist robot</a></li><li data-nav-id=/featured-projects/joystick-game/ title="JMonkeyEngine with Joystick" class=dd-item><a href=/featured-projects/joystick-game/>JMonkeyEngine with Joystick</a></li><li data-nav-id=/featured-projects/sensor-drivers/ title="Sensor drivers" class=dd-item><a href=/featured-projects/sensor-drivers/>Sensor drivers</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://pi4j.com/tags target=_blank><i class="fas fa-tags" style=width:25px></i>Tags</a></li><li><a class=padding href=https://github.com/Pi4J target=_blank><i class="fab fa-github" style=width:25px></i>GitHub project</a></li><li><a class=padding href=https://foojay.social/@pi4j target=_blank rel=me><i class="fab fa-mastodon" style=width:25px></i>Mastodon @pi4j@foojay.social</a></li><li><a class=padding href=https://twitter.com/pi4J target=_blank><i class="fab fa-twitter" style=width:25px></i>Twitter @pi4j</a></li><li><a class=padding href=https://github.com/Pi4J/pi4j-v2/discussions target=_blank><i class="fab fa-github" style=width:25px></i>Pi4J Forum</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a>from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/Pi4J/pi4j.github.io/blob/main/content/examples/jbang/pixelblaze_output_expander.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>Welcome to Pi4J</a> > <a href=/examples/>Example Implementations</a> > <a href=/examples/jbang/>JBang Examples</a> > Pixelblaze Output Expander</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#wiring>Wiring</a><ul><li><a href=#enabling-serial>Enabling Serial</a></li><li><a href=#status-of-the-pixelblaze-output-expander-leds>Status of the Pixelblaze Output Expander LEDs</a></li></ul></li><li><a href=#application>Application</a><ul><li><a href=#jbang-configuration>JBang configuration</a></li><li><a href=#expanderdatawriteadapter>ExpanderDataWriteAdapter</a></li><li><a href=#helper-methods>Helper methods</a></li><li><a href=#controlling-the-leds>Controlling the LEDs</a></li></ul></li><li><a href=#running-the-application>Running the Application</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/jbang>JBang</a>
<a class=tag-link href=/tags/pixelblaze>Pixelblaze</a>
<a class=tag-link href=/tags/led-strip>LED Strip</a></div></div><div id=body-inner><h1>Pixelblaze Output Expander</h1><div class="notices tip"><p>GITHUB PROJECT: <a href=https://github.com/Pi4J/pi4j-jbang/blob/main/PixelblazeOutputExpander.java target=_blank rel=noopener>github.com/Pi4J/pi4j-jbang > PixelblazeOutputExpander.java</a></p></div><p>One of the most &ldquo;fancy&rdquo; electronic components is definitely a LED strip. It&rsquo;s really cool to control a long strip of lights with only a few lines of code&mldr; But, there is a problem. The timings of the signals is crucial to reliably control these strips. Both Python and Java on a Raspberry Pi can struggle with these timings as they are running on Linux, a non-real-time operating system. So pauzes in the garbage collection of the virtual machine of Java, or any hickup in the operation of the operating system can cause unexpected effects on the LED strips. That&rsquo;s why in most projects a microcontroller (Arduino, Raspberry Pi Pico, ESP32,&mldr;) is used to drive the LED strip.</p><h2 id=intro>Intro</h2><p>This example is using such approach with the <a href=https://shop.electromage.com/products/pixelblaze-output-expander-serial-to-8x-ws2812-apa102-driver target=_blank rel=noopener>Pixelblaze Output Expander (PBOE)</a>. This product was initially intended to connect more LED strips to the <a href=https://shop.electromage.com/products/pixelblaze-v3-standard-wifi-led-controller target=_blank rel=noopener>Pixelblaze V3 Standard - WiFi LED Controller</a> and <a href=https://shop.electromage.com/products/pixelblaze-v3-pico-tiny-wifi-led-controller target=_blank rel=noopener>Pixelblaze V3 Pico - Tiny WiFi LED Controller</a>. But because the expander is controlled through a serial connection, we can also use it with a Raspberry Pi.</p><p>The LED strips contain LEDs of the WS2812B type, which means they have SMD 5050-LEDs with an integrated IC-driver, so they can be addressed separately. A few examples:</p><ul><li><a href=https://www.amazon.nl/dp/B08Y8QXTCL target=_blank rel=noopener>LED strip on Amazon</a></li><li><a href=https://www.amazon.nl/dp/B0B81R484Z target=_blank rel=noopener>LED matrix on Amazon</a></li><li><a href=https://www.ebay.de/b/WS2812B-LEDs/bn_7005777392 target=_blank rel=noopener>Many variants on ebay</a></li></ul><h2 id=wiring>Wiring</h2><p>To control the PBOE, we actually only need one wire to be connected to the Raspberry Pi (RPi) for the serial data to be sent from RPi to PBOE. But we must not forget one important fact: a LED strip with a lot of LEDs will require more power than the RPi can supply. So we need an external power supply that is dimensioned correctly to provide all the power needed for the strip when all LEDs are at maximum level. As a guideline, 0,1W ~ 0,3W/LED is required per LED. For a strip with 60 LEDs/meter, that means 18W/meter, or a total of 90W for a 5 meter strip. That&rsquo;s almost 20A at 5V!</p><div class="notices warning"><p>Use an <strong>external power supply to power LED strips</strong>!!! The 5V of the Raspberry Pi is passed straight through from the USB and the current is therefore limited. This is a <a href=https://raspberrypi.stackexchange.com/questions/9298/what-is-the-maximum-current-the-gpio-pins-can-output target=_blank rel=noopener>good question with clear answers about this topic on StackExchange</a>.</p></div><p>Connections between RPi, PBOE, and power supply:</p><ul><li>GND PBOE to GND power supply, common with GND of RPi</li><li>5V PBOE to external power supply</li><li>DAT PBOE to BCM14 on Rpi (pin 8 = UART Tx)</li></ul><p>Connections between PBOE and LED strip:</p><ul><li>Din to PBOE Channel 0, Data</li><li>5V to PBOE Channel 0, 5V</li><li>GND to PBOE Channel 0, GND</li></ul><p><div class="gallery caption-position-bottom caption-effect-slide hover-effect-zoom hover-transition" itemscope itemtype=http://schema.org/ImageGallery><link rel=stylesheet href=/css/hugo-easy-gallery.css><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/pixelblaze/full-setup.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/pixelblaze/full-setup.jpg alt="Full setup of this project"></div><a href=/assets/examples/jbang/pixelblaze/full-setup.jpg itemprop=contentUrl></a><figcaption><p>Full setup of this project</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/pixelblaze/led-strip.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/pixelblaze/led-strip.jpg alt="LED strip with three connections for power, ground, and data"></div><a href=/assets/examples/jbang/pixelblaze/led-strip.jpg itemprop=contentUrl></a><figcaption><p>LED strip with three connections for power, ground, and data</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/pixelblaze/pixelblaze-output-expander.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/pixelblaze/pixelblaze-output-expander.jpg alt="Pixelblaze Output Expander"></div><a href=/assets/examples/jbang/pixelblaze/pixelblaze-output-expander.jpg itemprop=contentUrl></a><figcaption><p>Pixelblaze Output Expander</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/pixelblaze/raspberry-pi-connections.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/pixelblaze/raspberry-pi-connections.jpg alt="Connections on the Raspberry Pi"></div><a href=/assets/examples/jbang/pixelblaze/raspberry-pi-connections.jpg itemprop=contentUrl></a><figcaption><p>Connections on the Raspberry Pi</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/pixelblaze/pixelblaze-connections.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/pixelblaze/pixelblaze-connections.jpg alt="Connections on the Pixelblaze Output Expander"></div><a href=/assets/examples/jbang/pixelblaze/pixelblaze-connections.jpg itemprop=contentUrl></a><figcaption><p>Connections on the Pixelblaze Output Expander</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/pixelblaze/led-strip-connections.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/pixelblaze/led-strip-connections.jpg alt="Connections for the LED strip"></div><a href=/assets/examples/jbang/pixelblaze/led-strip-connections.jpg itemprop=contentUrl></a><figcaption><p>Connections for the LED strip</p></figcaption></figure></div></div><script src=/js/load-photoswipe.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin=anonymous></script><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></p><h3 id=enabling-serial>Enabling Serial</h3><p>To be able to control the serial link from software, the following steps must be followed:</p><ul><li>In terminal: <code>sudo raspi-config</code></li><li>Go to &ldquo;Interface Options&rdquo;</li><li>Go to &ldquo;Serial Port&rdquo;</li><li>Select &ldquo;No&rdquo; for &ldquo;login shell&rdquo;</li><li>Select &ldquo;Yes&rdquo; for &ldquo;hardware enabled&rdquo;</li></ul><h3 id=status-of-the-pixelblaze-output-expander-leds>Status of the Pixelblaze Output Expander LEDs</h3><ul><li>Fading / pulsing orange: Has not seen any valid looking data.</li><li>Solid orange (for short time): Received expander data.</li><li>Green LED (for short time): Received data for its channels and is drawing.</li></ul><h2 id=application>Application</h2><div class="notices warning"><p>Before proceeding with this example, make sure that you have a Raspberry Pi prepared to execute Java code with JBang as <a href=https://pi4j.com/examples/jbang/ target=_blank rel=noopener>explained here</a>.</p></div><p>Jeff Vyduna and Ben Hencke of ElectroMage, the creators of Pixelblaze, provided example Java code for this project. The serial data format is <a href=https://github.com/simap/pixelblaze_output_expander/tree/v3.x target=_blank rel=noopener>documented on GitHub</a>. What the code is doing in short:</p><ul><li>Open serial communication to <code>/dev/ttyS0</code>.</li><li>Use BaudRate <code>2000000</code>, this is a hard requirement for the PBOE.</li><li>Send a byte array of RGB values for each LED.</li><li>Send a <code>drawAll</code> command to put the values on the LEDs.</li><li>Send other byte array and <code>drawAll</code>.</li><li>Before the application stops, close the serial port.</li></ul><h3 id=jbang-configuration>JBang configuration</h3><p>As with each JBang example, we need to define the first script line and the dependencies, one in this case:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>///usr/bin/env jbang &#34;$0&#34; &#34;$@&#34; ; exit $?
</span><span style=color:#75715e></span>
<span style=color:#75715e>//DEPS com.fazecast:jSerialComm:2.10.2
</span></code></pre></div><h3 id=expanderdatawriteadapter>ExpanderDataWriteAdapter</h3><p>This example project doesn&rsquo;t use the Pi4J serial communication (because it doesn&rsquo;t support this baud rate - at this moment), but instead the <code>com.fazecast:jSerialComm:2.10.2</code> library. An inner class is used to setup the serial communication and provide a write method.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ExpanderDataWriteAdapter</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>private</span> SerialPort port <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> String portPath<span style=color:#f92672>;</span>

    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>ExpanderDataWriteAdapter</span> <span style=color:#f92672>(</span>String portPath<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>portPath</span> <span style=color:#f92672>=</span> portPath<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>openPort</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>port <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Closing &#34;</span> <span style=color:#f92672>+</span> portPath<span style=color:#f92672>);</span>
            port<span style=color:#f92672>.</span><span style=color:#a6e22e>closePort</span><span style=color:#f92672>();</span>
        <span style=color:#f92672>}</span>
        port <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span> <span style=color:#75715e>//set to null in case getCommPort throws, port will remain null.
</span><span style=color:#75715e></span>        port <span style=color:#f92672>=</span> SerialPort<span style=color:#f92672>.</span><span style=color:#a6e22e>getCommPort</span><span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>portPath</span><span style=color:#f92672>);</span>
        port<span style=color:#f92672>.</span><span style=color:#a6e22e>setBaudRate</span><span style=color:#f92672>(</span>2000000<span style=color:#f92672>);</span>
        port<span style=color:#f92672>.</span><span style=color:#a6e22e>setComPortTimeouts</span><span style=color:#f92672>(</span>SerialPort<span style=color:#f92672>.</span><span style=color:#a6e22e>TIMEOUT_NONBLOCKING</span><span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> 0<span style=color:#f92672>);</span>
        port<span style=color:#f92672>.</span><span style=color:#a6e22e>openPort</span><span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 8192<span style=color:#f92672>,</span> 8192<span style=color:#f92672>);</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Opening &#34;</span> <span style=color:#f92672>+</span> portPath<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>closePort</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>port <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Closing &#34;</span> <span style=color:#f92672>+</span> portPath<span style=color:#f92672>);</span>
            port<span style=color:#f92672>.</span><span style=color:#a6e22e>closePort</span><span style=color:#f92672>();</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>write</span><span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> data<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>int</span> lastErrorCode <span style=color:#f92672>=</span> port <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>?</span> port<span style=color:#f92672>.</span><span style=color:#a6e22e>getLastErrorCode</span><span style=color:#f92672>()</span> <span style=color:#f92672>:</span> 0<span style=color:#f92672>;</span>
        <span style=color:#66d9ef>boolean</span> isOpen <span style=color:#f92672>=</span> port <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> port<span style=color:#f92672>.</span><span style=color:#a6e22e>isOpen</span><span style=color:#f92672>();</span>
        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>port <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> <span style=color:#f92672>!</span>isOpen <span style=color:#f92672>||</span> lastErrorCode <span style=color:#f92672>!=</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Port was open:&#34;</span> <span style=color:#f92672>+</span> isOpen <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, last error:&#34;</span> <span style=color:#f92672>+</span> lastErrorCode<span style=color:#f92672>);</span>
            openPort<span style=color:#f92672>();</span>
        <span style=color:#f92672>}</span>
        port<span style=color:#f92672>.</span><span style=color:#a6e22e>writeBytes</span><span style=color:#f92672>(</span>data<span style=color:#f92672>,</span> data<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=helper-methods>Helper methods</h3><p>Check the sources of the example for the full code, this is an overview of the additional helper methods without the full implementation:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendAllOff</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;All off&#34;</span><span style=color:#f92672>);</span>
    sendWs2812<span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 3<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> 2<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>NUMBER_OF_LEDS <span style=color:#f92672>*</span> 3<span style=color:#f92672>]);</span>
    sendDrawAll<span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendWs2812</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> channel<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> bytesPerPixel<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> rIndex<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> gIndex<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> bIndex<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> wIndex<span style=color:#f92672>,</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> pixelData<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>...</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendDrawAll</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>...</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>writeCrc</span><span style=color:#f92672>(</span>CRC32 crc<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>...</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>packInt</span><span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> outgoing<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> index<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> val<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>...</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> ByteBuffer <span style=color:#a6e22e>initHeaderBuffer</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> size<span style=color:#f92672>,</span> <span style=color:#66d9ef>byte</span> channel<span style=color:#f92672>,</span> <span style=color:#66d9ef>byte</span> command<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    <span style=color:#f92672>...</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=controlling-the-leds>Controlling the LEDs</h3><p>With all this code in place, we can start sending color data to the LED strip. The idea is to send a byte array containing a value for each color of the LEDs.</p><p>For instance, to send these colors to the first four LEDs, when using RGB-leds:</p><p>1 Red
2 Green
3 Blue
4 White</p><p>The byte array will look like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> pixeldata <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>12<span style=color:#f92672>];</span> <span style=color:#75715e>// 3 colors * 4 leds
</span><span style=color:#75715e></span>
<span style=color:#75715e>// Red = 0xff0000
</span><span style=color:#75715e></span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>0<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>

<span style=color:#75715e>// Green = 0x00ff00
</span><span style=color:#75715e></span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>3<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>4<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>5<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>

<span style=color:#75715e>// blue = 0x0000ff
</span><span style=color:#75715e></span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>6<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>7<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>8<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>

<span style=color:#75715e>// White = 0xffffff
</span><span style=color:#75715e></span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>9<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>10<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>11<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
</code></pre></div><h4 id=number-of-colors-per-led>Number of colors per LED</h4><p>A LED on a strip can contain three inner LEDs for RGB, or four for RGBW. In case of RGBW, you need to adapt the script to define <code>bytesPerPixel = 4</code>, and your byte array with the color values need to include four values per LED.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>// 3 colors per LED, White = 0xffffff
</span><span style=color:#75715e></span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>0<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>

<span style=color:#75715e>// 4 colors per LED, White = 0x000000ff
</span><span style=color:#75715e></span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>0<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x00<span style=color:#f92672>;</span>
<span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>3<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
</code></pre></div><h4 id=order-of-the-color-values>Order of the color values</h4><p>Test the red, green, and blue output to define how the RGB colors are ordered in the PBOE controller and/or LED strip. You can define the relationship between the colors in your byte array with the actual led strip in the <code>sendWs2812</code> method, with the <code>int rIndex, int gIndex, int bIndex, int wIndex</code> parameters. If you are using RGB-leds and 3 bytes per pixel, the <code>wIndex</code> parameter is ignored.</p><h4 id=sending-color-values>Sending color values</h4><p>The example code uses multiple byte arrays to send various colors and effects to a strip with 11 LEDs, connected to the channel 0 pins of the PBOE.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> CH_WS2812_DATA <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span>
<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> CH_DRAW_ALL <span style=color:#f92672>=</span> 2<span style=color:#f92672>;</span>
<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> CH_APA102_DATA <span style=color:#f92672>=</span> 3<span style=color:#f92672>;</span>
<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> CH_APA102_CLOCK <span style=color:#f92672>=</span> 4<span style=color:#f92672>;</span>

<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> NUMBER_OF_LEDS <span style=color:#f92672>=</span> 11<span style=color:#f92672>;</span>

<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> ExpanderDataWriteAdapter adapter<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> InterruptedException <span style=color:#f92672>{</span>
    adapter <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ExpanderDataWriteAdapter<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;/dev/ttyS0&#34;</span><span style=color:#f92672>);</span>

    <span style=color:#75715e>// All off
</span><span style=color:#75715e></span>    sendAllOff<span style=color:#f92672>();</span>
    Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>500<span style=color:#f92672>);</span>

    <span style=color:#75715e>// One by one red
</span><span style=color:#75715e></span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;One by one red&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> NUMBER_OF_LEDS<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> oneRed <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>NUMBER_OF_LEDS <span style=color:#f92672>*</span> 3<span style=color:#f92672>];</span>
        oneRed<span style=color:#f92672>[</span>i <span style=color:#f92672>*</span> 3<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
        sendWs2812<span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 3<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> 2<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> oneRed<span style=color:#f92672>);</span>
        sendDrawAll<span style=color:#f92672>();</span>
        Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>250<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>// All same color red, green, blue
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> color <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> color <span style=color:#f92672>&lt;</span> 3<span style=color:#f92672>;</span> color<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;All &#34;</span> <span style=color:#f92672>+</span> <span style=color:#f92672>(</span>color <span style=color:#f92672>==</span> 0 <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;red&#34;</span> <span style=color:#f92672>:</span> <span style=color:#f92672>(</span>color <span style=color:#f92672>==</span> 1 <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;green&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;blue&#34;</span><span style=color:#f92672>)));</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> allSame <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>NUMBER_OF_LEDS <span style=color:#f92672>*</span> 3<span style=color:#f92672>];</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> NUMBER_OF_LEDS<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>                
            allSame<span style=color:#f92672>[(</span>3 <span style=color:#f92672>*</span> i<span style=color:#f92672>)</span> <span style=color:#f92672>+</span> color<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
        sendWs2812<span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 3<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> 2<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> allSame<span style=color:#f92672>);</span>
        sendDrawAll<span style=color:#f92672>();</span>

        Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>1000<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>// Fill strip with random colors        
</span><span style=color:#75715e></span>    Random rd <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Random<span style=color:#f92672>();</span>
    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 5<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Random colors &#34;</span> <span style=color:#f92672>+</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>+</span> 1<span style=color:#f92672>));</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> random <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>NUMBER_OF_LEDS <span style=color:#f92672>*</span> 3<span style=color:#f92672>];</span>
        rd<span style=color:#f92672>.</span><span style=color:#a6e22e>nextBytes</span><span style=color:#f92672>(</span>random<span style=color:#f92672>);</span>
        sendWs2812<span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 3<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> 2<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> random<span style=color:#f92672>);</span>
        sendDrawAll<span style=color:#f92672>();</span>

        Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>1000<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>// Red alert!
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> red <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>NUMBER_OF_LEDS <span style=color:#f92672>*</span> 3<span style=color:#f92672>];</span>
        <span style=color:#66d9ef>int</span> i<span style=color:#f92672>;</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> NUMBER_OF_LEDS<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            red<span style=color:#f92672>[</span>i<span style=color:#f92672>*</span>3<span style=color:#f92672>]=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xff<span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 5<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;All red&#34;</span><span style=color:#f92672>);</span>
            sendWs2812<span style=color:#f92672>(</span>0<span style=color:#f92672>,</span> 3<span style=color:#f92672>,</span> 1<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> 2<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> red<span style=color:#f92672>);</span>
            sendDrawAll<span style=color:#f92672>();</span>
            Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>100<span style=color:#f92672>);</span>
            sendAllOff<span style=color:#f92672>();</span>
            Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>100<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Exception e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>err</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Error during random color test: &#34;</span> <span style=color:#f92672>+</span> e<span style=color:#f92672>.</span><span style=color:#a6e22e>getMessage</span><span style=color:#f92672>());</span>
    <span style=color:#f92672>}</span>

    adapter<span style=color:#f92672>.</span><span style=color:#a6e22e>closePort</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>
</code></pre></div><h2 id=running-the-application>Running the Application</h2><p>No <code>sudo</code> is needed for serial communication with the <code>jSerialComm</code> library, so the application can be started with:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ jbang PixelblazeOutputExpander.java
All off
<span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> 
Port was open:false, last error:0
Opening /dev/ttyS0
One by one red
ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> 
<span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> 
... 
All red
ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> 
All green
<span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> 
All blue
<span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff 
Random colors <span style=color:#ae81ff>1</span>
1f <span style=color:#ae81ff>43</span> 1b 3d b1 9c <span style=color:#ae81ff>46</span> <span style=color:#ae81ff>81</span> ee 2f bb ba e2 a5 f5 9f af <span style=color:#ae81ff>06</span> <span style=color:#ae81ff>27</span> d8 6c <span style=color:#ae81ff>04</span> <span style=color:#ae81ff>64</span> <span style=color:#ae81ff>68</span> a4 fa <span style=color:#ae81ff>31</span> <span style=color:#ae81ff>57</span> <span style=color:#ae81ff>14</span> c5 9e 7b b9 
...
All red
ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> ff <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> 
All off
<span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> <span style=color:#ae81ff>00</span> 
... 
Closing /dev/ttyS0
</code></pre></div><h2 id=conclusion>Conclusion</h2><p>I&rsquo;m still curious to see the reliability of this serial control of LED strips in combination with other loads on the Raspberry Pi, but the Pixelblaze Output Expander is a great way to easily control such strips!</p><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1691072249></script><script src=/js/perfect-scrollbar.min.js?1691072249></script><script src=/js/perfect-scrollbar.jquery.min.js?1691072249></script><script src=/js/jquery.sticky.js?1691072249></script><script src=/js/featherlight.min.js?1691072249></script><script src=/js/highlight.pack.js?1691072249></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1691072249></script><script src=/js/learn.js?1691072249></script><script src=/js/hugo-learn.js?1691072249></script><script src=/mermaid/mermaid.js?1691072249></script><script>mermaid.initialize({startOnLoad:true});</script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script><script type=text/javascript>docsearch({appId:"QJ0EB8YHN3",apiKey:"8ddde1d36a62d9e2d7c4333239e6a2fc",indexName:"pi4j",container:'#docsearch',debug:true});</script></body></html>