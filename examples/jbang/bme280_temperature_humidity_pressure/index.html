<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.151.0"><meta name=description content="Java IO Library for the Raspberry Pi"><meta name=author content="Pi4J"><link rel=icon href=/assets/favicon.ico type=image/ico><title>BME280 Sensor - Pi4J</title><link href=/css/nucleus.css?1760371040 rel=stylesheet><link href=/css/fontawesome-all.min.css?1760371040 rel=stylesheet><link href=/css/hybrid.css?1760371040 rel=stylesheet><link href=/css/featherlight.min.css?1760371040 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1760371040 rel=stylesheet><link href=/css/auto-complete.css?1760371040 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1760371040 rel=stylesheet><link href=/css/theme.css?1760371040 rel=stylesheet><link href=/css/hugo-theme.css?1760371040 rel=stylesheet><link href=/css/theme-blue.css?1760371040 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1760371040></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><style>.DocSearch{width:90%}#docsearch-input{border:none;padding-top:15px;margin:0 0 0 10px;padding:0;background:0 0}</style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3></pre></li></head><body data-url=/examples/jbang/bme280_temperature_humidity_pressure/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><img src=/assets/pi4j-header.png></a></div><div id=docsearch></div></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/about/ title=About class=dd-item><a href=/about/>About</a><ul><li data-nav-id=/about/info-v1/ title="Info about V1" class=dd-item><a href=/about/info-v1/>Info about V1</a></li><li data-nav-id=/about/info-v2/ title="What's New in V2" class=dd-item><a href=/about/info-v2/>What's New in V2</a></li><li data-nav-id=/about/info-v3/ title="What's New in V3" class=dd-item><a href=/about/info-v3/>What's New in V3</a></li><li data-nav-id=/about/release-notes/ title="Release Notes" class=dd-item><a href=/about/release-notes/>Release Notes</a></li><li data-nav-id=/about/download/ title="Pi4J Downloads" class=dd-item><a href=/about/download/>Pi4J Downloads</a></li><li data-nav-id=/about/license/ title="License (Open Source)" class=dd-item><a href=/about/license/>License (Open Source)</a></li><li data-nav-id=/about/team/ title="The Team" class=dd-item><a href=/about/team/>The Team</a></li></ul></li><li data-nav-id=/prepare/ title="Prepare a Raspberry Pi" class=dd-item><a href=/prepare/>Prepare a Raspberry Pi</a><ul><li data-nav-id=/prepare/sd-card/ title="Write OS to SD card" class=dd-item><a href=/prepare/sd-card/>Write OS to SD card</a></li><li data-nav-id=/prepare/first-boot/ title="The First Boot" class=dd-item><a href=/prepare/first-boot/>The First Boot</a></li><li data-nav-id=/prepare/install-java/ title="Install Java and Tools" class=dd-item><a href=/prepare/install-java/>Install Java and Tools</a></li></ul></li><li data-nav-id=/getting-started/ title="Getting Started With Pi4J" class=dd-item><a href=/getting-started/>Getting Started With Pi4J</a><ul><li data-nav-id=/getting-started/understanding-the-pins/ title="Understanding the GPIO pins" class=dd-item><a href=/getting-started/understanding-the-pins/>Understanding the GPIO pins</a></li><li data-nav-id=/getting-started/electrical-engineering/ title="Electrical Engineering" class=dd-item><a href=/getting-started/electrical-engineering/>Electrical Engineering</a></li><li data-nav-id=/getting-started/java-development-on-the-raspberry-pi-with-vsc/ title="Java Development" class=dd-item><a href=/getting-started/java-development-on-the-raspberry-pi-with-vsc/>Java Development</a></li><li data-nav-id=/getting-started/minimal-example-application/ title="Minimal example application" class=dd-item><a href=/getting-started/minimal-example-application/>Minimal example application</a></li><li data-nav-id=/getting-started/minimal-example-application-fatjar/ title="Minimal example as FAT JAR" class=dd-item><a href=/getting-started/minimal-example-application-fatjar/>Minimal example as FAT JAR</a></li><li data-nav-id=/getting-started/user-interface-with-javafx/ title="User interface with JavaFX" class=dd-item><a href=/getting-started/user-interface-with-javafx/>User interface with JavaFX</a></li><li data-nav-id=/getting-started/fxgl/ title="Game development with FXGL" class=dd-item><a href=/getting-started/fxgl/>Game development with FXGL</a><ul><li data-nav-id=/getting-started/fxgl/fxgl-to-picade/ title="FXGl to Picade" class=dd-item><a href=/getting-started/fxgl/fxgl-to-picade/>FXGl to Picade</a></li><li data-nav-id=/getting-started/fxgl/kiosk-mode/ title="JavaFX kiosk mode" class=dd-item><a href=/getting-started/fxgl/kiosk-mode/>JavaFX kiosk mode</a></li></ul></li><li data-nav-id=/getting-started/javafx-mvc-template/ title="JavaFX GUI and MVC template" class=dd-item><a href=/getting-started/javafx-mvc-template/>JavaFX GUI and MVC template</a></li><li data-nav-id=/getting-started/learn-more/ title="Learn more..." class=dd-item><a href=/getting-started/learn-more/>Learn more...</a></li></ul></li><li data-nav-id=/documentation/ title=Documentation class=dd-item><a href=/documentation/>Documentation</a><ul><li data-nav-id=/documentation/javadoc/ title="Pi4J API JavaDoc" class=dd-item><a href=/documentation/javadoc/>Pi4J API JavaDoc</a></li><li data-nav-id=/documentation/pin-numbering/ title="Pin numbering" class=dd-item><a href=/documentation/pin-numbering/>Pin numbering</a></li><li data-nav-id=/documentation/java-for-arm/ title="Java for ARMv6/7/8" class=dd-item><a href=/documentation/java-for-arm/>Java for ARMv6/7/8</a></li><li data-nav-id=/documentation/logging/ title="Logging with SLF4J" class=dd-item><a href=/documentation/logging/>Logging with SLF4J</a></li><li data-nav-id=/documentation/create-context/ title="Creating a Pi4J Context" class=dd-item><a href=/documentation/create-context/>Creating a Pi4J Context</a></li><li data-nav-id=/documentation/platforms/ title="Choosing a Platform" class=dd-item><a href=/documentation/platforms/>Choosing a Platform</a><ul><li data-nav-id=/documentation/platforms/raspberry-pi/ title="Raspberry Pi" class=dd-item><a href=/documentation/platforms/raspberry-pi/>Raspberry Pi</a></li></ul></li><li data-nav-id=/documentation/providers/ title="Choosing an I/O Provider" class=dd-item><a href=/documentation/providers/>Choosing an I/O Provider</a><ul><li data-nav-id=/documentation/providers/gpiod/ title="GpioD Provider" class=dd-item><a href=/documentation/providers/gpiod/>GpioD Provider</a></li><li data-nav-id=/documentation/providers/linuxfs/ title="LinuxFS Provider" class=dd-item><a href=/documentation/providers/linuxfs/>LinuxFS Provider</a></li><li data-nav-id=/documentation/providers/pigpio/ title="PiGpio Provider" class=dd-item><a href=/documentation/providers/pigpio/>PiGpio Provider</a></li></ul></li><li data-nav-id=/documentation/board-info/ title="Using Board Info" class=dd-item><a href=/documentation/board-info/>Using Board Info</a></li><li data-nav-id=/documentation/build-io/ title="Building an I/O Instance" class=dd-item><a href=/documentation/build-io/>Building an I/O Instance</a></li><li data-nav-id=/documentation/io-types/ title="I/O Types" class=dd-item><a href=/documentation/io-types/>I/O Types</a><ul><li data-nav-id=/documentation/io-types/digital-output/ title="Digital Output (GPIO)" class=dd-item><a href=/documentation/io-types/digital-output/>Digital Output (GPIO)</a></li><li data-nav-id=/documentation/io-types/digital-input/ title="Digital Input (GPIO)" class=dd-item><a href=/documentation/io-types/digital-input/>Digital Input (GPIO)</a></li><li data-nav-id=/documentation/io-types/pwm/ title="Pulse Width Modulation (PWM)" class=dd-item><a href=/documentation/io-types/pwm/>Pulse Width Modulation (PWM)</a></li><li data-nav-id=/documentation/io-types/i2c/ title="Inter-Integrated Circuit (I²C)" class=dd-item><a href=/documentation/io-types/i2c/>Inter-Integrated Circuit (I²C)</a><ul><li data-nav-id=/documentation/io-types/i2c/clock-stretching/ title="I²C Clock Stretching" class=dd-item><a href=/documentation/io-types/i2c/clock-stretching/>I²C Clock Stretching</a></li></ul></li><li data-nav-id=/documentation/io-types/spi/ title="Serial Peripheral Interface (SPI)" class=dd-item><a href=/documentation/io-types/spi/>Serial Peripheral Interface (SPI)</a></li><li data-nav-id=/documentation/io-types/serial/ title="Serial (UART/RS232)" class=dd-item><a href=/documentation/io-types/serial/>Serial (UART/RS232)</a></li><li data-nav-id=/documentation/io-types/1-wire/ title=1-Wire class=dd-item><a href=/documentation/io-types/1-wire/>1-Wire</a></li></ul></li><li data-nav-id=/documentation/registry/ title="I/O Registry" class=dd-item><a href=/documentation/registry/>I/O Registry</a></li><li data-nav-id=/documentation/shutdown/ title="Shutdown (cleanup)" class=dd-item><a href=/documentation/shutdown/>Shutdown (cleanup)</a></li><li data-nav-id=/documentation/building/ title="Building and running" class=dd-item><a href=/documentation/building/>Building and running</a><ul><li data-nav-id=/documentation/building/javac/ title="Building with javac" class=dd-item><a href=/documentation/building/javac/>Building with javac</a></li><li data-nav-id=/documentation/building/fat-jar/ title="Build as a FAT JAR with Maven" class=dd-item><a href=/documentation/building/fat-jar/>Build as a FAT JAR with Maven</a></li><li data-nav-id=/documentation/building/modules-maven/ title="Build Java modules with Maven" class=dd-item><a href=/documentation/building/modules-maven/>Build Java modules with Maven</a></li><li data-nav-id=/documentation/building/modules-gradle/ title="Build Java modules with Gradle" class=dd-item><a href=/documentation/building/modules-gradle/>Build Java modules with Gradle</a></li><li data-nav-id=/documentation/building/jbang/ title="Running Pi4J with JBang" class=dd-item><a href=/documentation/building/jbang/>Running Pi4J with JBang</a></li></ul></li><li data-nav-id=/documentation/development/ title="Development Tools" class=dd-item><a href=/documentation/development/>Development Tools</a><ul><li data-nav-id=/documentation/development/install-vsc-ide/ title="Install Visual Studio Code" class=dd-item><a href=/documentation/development/install-vsc-ide/>Install Visual Studio Code</a></li><li data-nav-id=/documentation/development/intellijidea/ title="Using IntelliJ IDEA" class=dd-item><a href=/documentation/development/intellijidea/>Using IntelliJ IDEA</a></li><li data-nav-id=/documentation/development/developing-on-a-remote-pc/ title="Using Maven Archetype" class=dd-item><a href=/documentation/development/developing-on-a-remote-pc/>Using Maven Archetype</a></li></ul></li></ul></li><li data-nav-id=/examples/ title="Example Implementations" class="dd-item
parent"><a href=/examples/>Example Implementations</a><ul><li data-nav-id=/examples/jbang/ title="JBang Examples" class="dd-item
parent"><a href=/examples/jbang/>JBang Examples</a><ul><li data-nav-id=/examples/jbang/jbang_minimal_example/ title="Minimal Example" class=dd-item><a href=/examples/jbang/jbang_minimal_example/>Minimal Example</a></li><li data-nav-id=/examples/jbang/jbang_pi4j_spi_led_matrix/ title="8x8 LED Matrix" class=dd-item><a href=/examples/jbang/jbang_pi4j_spi_led_matrix/>8x8 LED Matrix</a></li><li data-nav-id=/examples/jbang/bme280_temperature_humidity_pressure/ title="BME280 Sensor" class="dd-item active"><a href=/examples/jbang/bme280_temperature_humidity_pressure/>BME280 Sensor</a></li><li data-nav-id=/examples/jbang/pixelblaze_output_expander/ title="Pixelblaze Output Expander" class=dd-item><a href=/examples/jbang/pixelblaze_output_expander/>Pixelblaze Output Expander</a></li><li data-nav-id=/examples/jbang/pixelblaze_output_expander_image/ title="Controlling a LED Matrix" class=dd-item><a href=/examples/jbang/pixelblaze_output_expander_image/>Controlling a LED Matrix</a></li><li data-nav-id=/examples/jbang/pixelblaze_output_expander_javafx/ title="LED strip with a JavaFX UI" class=dd-item><a href=/examples/jbang/pixelblaze_output_expander_javafx/>LED strip with a JavaFX UI</a></li></ul></li><li data-nav-id=/examples/components/ title="Component Examples" class=dd-item><a href=/examples/components/>Component Examples</a><ul><li data-nav-id=/examples/components/simplebutton/ title="Simple Button" class=dd-item><a href=/examples/components/simplebutton/>Simple Button</a></li><li data-nav-id=/examples/components/simpleled/ title="Simple LED" class=dd-item><a href=/examples/components/simpleled/>Simple LED</a></li><li data-nav-id=/examples/components/ads1115/ title="AD Converter ADS1115" class=dd-item><a href=/examples/components/ads1115/>AD Converter ADS1115</a></li><li data-nav-id=/examples/components/buzzer/ title=Buzzer class=dd-item><a href=/examples/components/buzzer/>Buzzer</a></li><li data-nav-id=/examples/components/camera/ title=Camera class=dd-item><a href=/examples/components/camera/>Camera</a></li><li data-nav-id=/examples/components/joystick/ title=Joystick class=dd-item><a href=/examples/components/joystick/>Joystick</a></li><li data-nav-id=/examples/components/joystickanalog/ title="Joystick Analog" class=dd-item><a href=/examples/components/joystickanalog/>Joystick Analog</a></li><li data-nav-id=/examples/components/lcddisplay/ title="LCD Display" class=dd-item><a href=/examples/components/lcddisplay/>LCD Display</a></li><li data-nav-id=/examples/components/ledbutton/ title="LED Button" class=dd-item><a href=/examples/components/ledbutton/>LED Button</a></li><li data-nav-id=/examples/components/ledmatrix/ title="LED Matrix" class=dd-item><a href=/examples/components/ledmatrix/>LED Matrix</a></li><li data-nav-id=/examples/components/ledstrip/ title="LED Strip" class=dd-item><a href=/examples/components/ledstrip/>LED Strip</a></li><li data-nav-id=/examples/components/potentiometer/ title=Potentiometer class=dd-item><a href=/examples/components/potentiometer/>Potentiometer</a></li><li data-nav-id=/examples/components/servo/ title=ServoMotor class=dd-item><a href=/examples/components/servo/>ServoMotor</a></li></ul></li><li data-nav-id=/examples/crowpi/ title="Electronics with CrowPi" class=dd-item><a href=/examples/crowpi/>Electronics with CrowPi</a><ul><li data-nav-id=/examples/crowpi/develop-crowpi-with-intellij/ title="Develop with Intellij IDEA" class=dd-item><a href=/examples/crowpi/develop-crowpi-with-intellij/>Develop with Intellij IDEA</a></li><li data-nav-id=/examples/crowpi/crowpi-examples/ title="CrowPi examples" class=dd-item><a href=/examples/crowpi/crowpi-examples/>CrowPi examples</a></li></ul></li><li data-nav-id=/examples/communityimplementation/ title="Community Implementations" class=dd-item><a href=/examples/communityimplementation/>Community Implementations</a><ul><li data-nav-id=/examples/communityimplementation/prototype-board/ title="Prototype Board" class=dd-item><a href=/examples/communityimplementation/prototype-board/>Prototype Board</a></li><li data-nav-id=/examples/communityimplementation/bmp280/ title="BMP280 Sensor" class=dd-item><a href=/examples/communityimplementation/bmp280/>BMP280 Sensor</a></li></ul></li></ul></li><li data-nav-id=/debugging-failures/ title="Debugging Failures" class=dd-item><a href=/debugging-failures/>Debugging Failures</a></li><li data-nav-id=/architecture/ title=Architecture/Design class=dd-item><a href=/architecture/>Architecture/Design</a><ul><li data-nav-id=/architecture/about-the-code/ title="Project source structure" class=dd-item><a href=/architecture/about-the-code/>Project source structure</a><ul><li data-nav-id=/architecture/about-the-code/download-sources/ title=Download/Install class=dd-item><a href=/architecture/about-the-code/download-sources/>Download/Install</a></li><li data-nav-id=/architecture/about-the-code/build-instructions/ title="Build Instructions" class=dd-item><a href=/architecture/about-the-code/build-instructions/>Build Instructions</a></li><li data-nav-id=/architecture/about-the-code/maven-settings/ title="Maven settings" class=dd-item><a href=/architecture/about-the-code/maven-settings/>Maven settings</a></li><li data-nav-id=/architecture/about-the-code/code-styling/ title="Code styling" class=dd-item><a href=/architecture/about-the-code/code-styling/>Code styling</a></li><li data-nav-id=/architecture/about-the-code/hardware-testing/ title="Hardware testing" class=dd-item><a href=/architecture/about-the-code/hardware-testing/>Hardware testing</a></li></ul></li><li data-nav-id=/architecture/advanced/ title=Advanced class=dd-item><a href=/architecture/advanced/>Advanced</a><ul><li data-nav-id=/architecture/advanced/annotated-provisioning/ title="Annotated provisioning" class=dd-item><a href=/architecture/advanced/annotated-provisioning/>Annotated provisioning</a></li><li data-nav-id=/architecture/advanced/dependency-injection/ title="Dependency injection" class=dd-item><a href=/architecture/advanced/dependency-injection/>Dependency injection</a></li><li data-nav-id=/architecture/advanced/library-path/ title="Native Library Path" class=dd-item><a href=/architecture/advanced/library-path/>Native Library Path</a></li><li data-nav-id=/architecture/advanced/plugins/ title=Plug-ins class=dd-item><a href=/architecture/advanced/plugins/>Plug-ins</a></li><li data-nav-id=/architecture/advanced/remote-support/ title="Remote support" class=dd-item><a href=/architecture/advanced/remote-support/>Remote support</a></li></ul></li><li data-nav-id=/architecture/pi4j-logo/ title="The Pi4J Logo" class=dd-item><a href=/architecture/pi4j-logo/>The Pi4J Logo</a></li></ul></li><li data-nav-id=/kotlin/ title="Pi4J with Kotlin" class=dd-item><a href=/kotlin/>Pi4J with Kotlin</a><ul><li data-nav-id=/kotlin/kotlin-dsl/ title="Pi4J Kotlin DSL" class=dd-item><a href=/kotlin/kotlin-dsl/>Pi4J Kotlin DSL</a><ul><li data-nav-id=/kotlin/kotlin-dsl/minimal-kotlin-example/ title="Minimal Kotlin Pi4J example" class=dd-item><a href=/kotlin/kotlin-dsl/minimal-kotlin-example/>Minimal Kotlin Pi4J example</a></li><li data-nav-id=/kotlin/kotlin-dsl/kotlin-api-docs/ title="Kotlin API & DSL Documentation" class=dd-item><a href=/kotlin/kotlin-dsl/kotlin-api-docs/>Kotlin API & DSL Documentation</a></li><li data-nav-id=/kotlin/kotlin-dsl/coroutines/ title="Coroutines Support" class=dd-item><a href=/kotlin/kotlin-dsl/coroutines/>Coroutines Support</a></li><li data-nav-id=/kotlin/kotlin-dsl/i2c/ title="I²C Kotlin DSL" class=dd-item><a href=/kotlin/kotlin-dsl/i2c/>I²C Kotlin DSL</a></li><li data-nav-id=/kotlin/kotlin-dsl/serial/ title="Serial Kotlin DSL" class=dd-item><a href=/kotlin/kotlin-dsl/serial/>Serial Kotlin DSL</a></li></ul></li><li data-nav-id=/kotlin/kotlin-examples/ title="Kotlin Examples" class=dd-item><a href=/kotlin/kotlin-examples/>Kotlin Examples</a><ul><li data-nav-id=/kotlin/kotlin-examples/getting-started/ title="Basic Project Setup" class=dd-item><a href=/kotlin/kotlin-examples/getting-started/>Basic Project Setup</a></li><li data-nav-id=/kotlin/kotlin-examples/useful-tips/ title="Useful Tips" class=dd-item><a href=/kotlin/kotlin-examples/useful-tips/>Useful Tips</a></li></ul></li></ul></li><li data-nav-id=/blog/ title=Blogs class=dd-item><a href=/blog/>Blogs</a><ul><li data-nav-id=/blog/2025/ title=2025 class=dd-item><a href=/blog/2025/>2025</a><ul><li data-nav-id=/blog/2025/20251013-io-checkers/ title="IO Checker Tool" class=dd-item><a href=/blog/2025/20251013-io-checkers/>IO Checker Tool</a></li><li data-nav-id=/blog/2025/20251013-java-working-on-raspberry-pi-zero-2/ title="Java 21+ Working on RPi Zero 2" class=dd-item><a href=/blog/2025/20251013-java-working-on-raspberry-pi-zero-2/>Java 21+ Working on RPi Zero 2</a></li><li data-nav-id=/blog/2025/20250811-rpi5-pwm-not-working/ title="RPi5 PWM NoSuchFileException" class=dd-item><a href=/blog/2025/20250811-rpi5-pwm-not-working/>RPi5 PWM NoSuchFileException</a></li><li data-nav-id=/blog/2025/20250625-java-21-not-working-on-zero-2/ title="Java 21+ Not Working on Zero 2" class=dd-item><a href=/blog/2025/20250625-java-21-not-working-on-zero-2/>Java 21+ Not Working on Zero 2</a></li><li data-nav-id=/blog/2025/20250507-start-program-with-desktop-icon/ title="Starting with a Desktop Icon" class=dd-item><a href=/blog/2025/20250507-start-program-with-desktop-icon/>Starting with a Desktop Icon</a></li><li data-nav-id=/blog/2025/20250211-welcome-java-21/ title="Pi4J welcomes Java 21" class=dd-item><a href=/blog/2025/20250211-welcome-java-21/>Pi4J welcomes Java 21</a></li><li data-nav-id=/blog/2025/20250115-miami-jug/ title="Pi4J presentation for Miami JUG" class=dd-item><a href=/blog/2025/20250115-miami-jug/>Pi4J presentation for Miami JUG</a></li></ul></li><li data-nav-id=/blog/2024/ title=2024 class=dd-item><a href=/blog/2024/>2024</a><ul><li data-nav-id=/blog/2024/20241114-floss-weekly-podcast/ title="Pi4J in Floss Weekly" class=dd-item><a href=/blog/2024/20241114-floss-weekly-podcast/>Pi4J in Floss Weekly</a></li><li data-nav-id=/blog/2024/20241104-download-stats/ title="Maven Downloads" class=dd-item><a href=/blog/2024/20241104-download-stats/>Maven Downloads</a></li><li data-nav-id=/blog/2024/20240927-bits-bytes-signed-unsigned/ title="Signed versus unsigned values" class=dd-item><a href=/blog/2024/20240927-bits-bytes-signed-unsigned/>Signed versus unsigned values</a></li><li data-nav-id=/blog/2024/20240517_bosch_sensor_gas_measurement/ title="Bosch sensor gas measurement" class=dd-item><a href=/blog/2024/20240517_bosch_sensor_gas_measurement/>Bosch sensor gas measurement</a></li><li data-nav-id=/blog/2024/20240425_interview_tom_aarts/ title="Interview Tom Aarts" class=dd-item><a href=/blog/2024/20240425_interview_tom_aarts/>Interview Tom Aarts</a></li><li data-nav-id=/blog/2024/20240423_pwm_rpi5/ title="PWM Hardware Support on RPi5" class=dd-item><a href=/blog/2024/20240423_pwm_rpi5/>PWM Hardware Support on RPi5</a></li><li data-nav-id=/blog/2024/20240419_interview_robert_von_burg/ title="Interview Robert von Burg" class=dd-item><a href=/blog/2024/20240419_interview_robert_von_burg/>Interview Robert von Burg</a></li><li data-nav-id=/blog/2024/20240418_i2c_improvements/ title="Ongoing I2C Improvements" class=dd-item><a href=/blog/2024/20240418_i2c_improvements/>Ongoing I2C Improvements</a></li><li data-nav-id=/blog/2024/20240417_led_matrix_max7219_spi_web/ title="LED Matrix with SPI MAX7219" class=dd-item><a href=/blog/2024/20240417_led_matrix_max7219_spi_web/>LED Matrix with SPI MAX7219</a></li><li data-nav-id=/blog/2024/20240318_interview_alexander_liggesmeyer/ title="Alexander Liggesmeyer and RPi5" class=dd-item><a href=/blog/2024/20240318_interview_alexander_liggesmeyer/>Alexander Liggesmeyer and RPi5</a></li></ul></li><li data-nav-id=/blog/2022/ title=2022 class=dd-item><a href=/blog/2022/>2022</a><ul><li data-nav-id=/blog/2022/20221128_led_strip_with_jbang/ title="LED strip with Pi4J and JBang" class=dd-item><a href=/blog/2022/20221128_led_strip_with_jbang/>LED strip with Pi4J and JBang</a></li><li data-nav-id=/blog/2022/20221117_kotlin_on_raspberrypi/ title="Kotlin on the Raspberry Pi" class=dd-item><a href=/blog/2022/20221117_kotlin_on_raspberrypi/>Kotlin on the Raspberry Pi</a></li><li data-nav-id=/blog/2022/20220113_javafx_pi4j_template/ title="Getting Started Template" class=dd-item><a href=/blog/2022/20220113_javafx_pi4j_template/>Getting Started Template</a></li></ul></li></ul></li><li data-nav-id=/video/ title=Videos class=dd-item><a href=/video/>Videos</a><ul><li data-nav-id=/video/20251009-devoxx-ffmapi/ title="2025 Devoxx Talk FFM API" class=dd-item><a href=/video/20251009-devoxx-ffmapi/>2025 Devoxx Talk FFM API</a></li><li data-nav-id=/video/20250924-live-coding-vaadin/ title="2025 Live Coding: Vaadin" class=dd-item><a href=/video/20250924-live-coding-vaadin/>2025 Live Coding: Vaadin</a></li><li data-nav-id=/video/20250828-live-stream-cyberjar/ title="2025 Live Stream CyberJAR" class=dd-item><a href=/video/20250828-live-stream-cyberjar/>2025 Live Stream CyberJAR</a></li><li data-nav-id=/video/20240611-spring-boot-starter/ title="2024 Spring Boot Starter" class=dd-item><a href=/video/20240611-spring-boot-starter/>2024 Spring Boot Starter</a></li><li data-nav-id=/video/20231012-led-strips/ title="2023 LED strips with JBang" class=dd-item><a href=/video/20231012-led-strips/>2023 LED strips with JBang</a></li><li data-nav-id=/video/20230822-vaadin-webui/ title="2023 Vaadin WebUI" class=dd-item><a href=/video/20230822-vaadin-webui/>2023 Vaadin WebUI</a></li><li data-nav-id=/video/20221014-building-smart-devices/ title="2022 Building Smart Devices" class=dd-item><a href=/video/20221014-building-smart-devices/>2022 Building Smart Devices</a></li><li data-nav-id=/video/20210211-electronics-on-rpi/ title="2021 Electronics on RPi" class=dd-item><a href=/video/20210211-electronics-on-rpi/>2021 Electronics on RPi</a></li><li data-nav-id=/video/20210207-future-of-java-on-rpi/ title="2021 Future of Java on RPi" class=dd-item><a href=/video/20210207-future-of-java-on-rpi/>2021 Future of Java on RPi</a></li><li data-nav-id=/video/20130907-javaone-interview/ title="2013 JavaOne Interview" class=dd-item><a href=/video/20130907-javaone-interview/>2013 JavaOne Interview</a></li></ul></li><li data-nav-id=/featured-projects/ title="Featured Projects" class=dd-item><a href=/featured-projects/>Featured Projects</a><ul><li data-nav-id=/featured-projects/spring-boot-alarm/ title="Spring Boot Alarm System" class=dd-item><a href=/featured-projects/spring-boot-alarm/>Spring Boot Alarm System</a></li><li data-nav-id=/featured-projects/smartcoop/ title=SmartCoop class=dd-item><a href=/featured-projects/smartcoop/>SmartCoop</a></li><li data-nav-id=/featured-projects/binary-clock/ title="Binary Clock" class=dd-item><a href=/featured-projects/binary-clock/>Binary Clock</a></li><li data-nav-id=/featured-projects/soft-real-time-plc-written-in-strolch/ title="Soft real time PLC" class=dd-item><a href=/featured-projects/soft-real-time-plc-written-in-strolch/>Soft real time PLC</a></li><li data-nav-id=/featured-projects/pijukebox-by-daniel-martensson/ title=PiJukeBox class=dd-item><a href=/featured-projects/pijukebox-by-daniel-martensson/>PiJukeBox</a></li><li data-nav-id=/featured-projects/cocktail-maker-by-alex9849/ title=CocktailPi class=dd-item><a href=/featured-projects/cocktail-maker-by-alex9849/>CocktailPi</a></li><li data-nav-id=/featured-projects/street-artist-robot/ title="Didier the street artist robot" class=dd-item><a href=/featured-projects/street-artist-robot/>Didier the street artist robot</a></li><li data-nav-id=/featured-projects/joystick-game/ title="JMonkeyEngine with Joystick" class=dd-item><a href=/featured-projects/joystick-game/>JMonkeyEngine with Joystick</a></li><li data-nav-id=/featured-projects/sensor-drivers/ title="Sensor drivers" class=dd-item><a href=/featured-projects/sensor-drivers/>Sensor drivers</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://pi4j.com/tags target=_blank><i class='fas more-tag fa-tags'></i> Tags</a></li><li><a class=padding href=https://github.com/Pi4J target=_blank><i class='fab more-tag fa-github'></i> GitHub project</a></li><li><a class=padding href=https://foojay.social/@pi4j target=_blank rel=me><i class='fab more-tag fa-mastodon'></i> Mastodon @pi4j@foojay.social</a></li><li><a class=padding href=https://www.linkedin.com/company/pi4j/ target=_blank><i class='fab more-tag fa-linkedin'></i> LinkedIn @pi4j</a></li><li><a class=padding href=https://github.com/Pi4J/pi4j/discussions target=_blank><i class='fab more-tag fa-github'></i> Pi4J V2 Discussions</a></li><li><a class=padding href=https://join.slack.com/t/pi4j/shared_invite/zt-1ttqt8wgj-E6t69qaLrNuCMPLiYnBCsg target=_blank><i class='fab more-tag fa-slack'></i> Join our Slack</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p><p>Visitor counter by <a href=https://clicky.com/101436354 target=_blank rel=noopener>Clicky</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/Pi4J/pi4j.github.io/blob/main/content/examples/jbang/bme280_temperature_humidity_pressure.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Welcome to Pi4J</a> > <a href=/examples/>Example Implementations</a> > <a href=/examples/jbang/>JBang Examples</a> > BME280 Sensor</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#bme280-sensor-temp-humidity-pressure-via-pi4j-i2c-and-jbang>BME280 Sensor (temp, humidity, pressure) via Pi4J, I2C, and JBang</a></li><li><a href=#intro>Intro</a></li><li><a href=#video>Video</a></li><li><a href=#enable-i2c-and-spi>Enable I2C and SPI</a></li><li><a href=#wiring>Wiring</a><ul><li><a href=#wiring-for-i2c>Wiring for I2C</a></li><li><a href=#wiring-for-spi>Wiring for SPI</a></li></ul></li><li><a href=#application>Application</a><ul><li><a href=#dependencies-and-imports>Dependencies and Imports</a></li><li><a href=#main-method>Main Method</a></li><li><a href=#reset-and-readout-of-the-values>Reset and Readout of the Values</a></li></ul></li><li><a href=#running-the-application>Running the Application</a><ul><li><a href=#running-the-i2c-application>Running the I2C Application</a></li><li><a href=#running-the-spi-application>Running the SPI Application</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#read-more>Read More</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/bme280>bme280</a><a class=tag-link href=/tags/bmp280>bmp280</a><a class=tag-link href=/tags/jbang>jbang</a></div></div><div id=body-inner><h1>BME280 Sensor</h1><h2 id=bme280-sensor-temp-humidity-pressure-via-pi4j-i2c-and-jbang>BME280 Sensor (temp, humidity, pressure) via Pi4J, I2C, and JBang</h2><div class="notices tip"><p>GITHUB PROJECT: <a href=https://github.com/Pi4J/pi4j-jbang/blob/main/Pi4JTempHumPressI2C.java target=_blank rel=noopener>github.com/Pi4J/pi4j-jbang > Pi4JTempHumPressI2C.java</a> and <a href=https://github.com/Pi4J/pi4j-jbang/blob/main/Pi4JTempHumPressSpi.java target=_blank rel=noopener>github.com/Pi4J/pi4j-jbang > Pi4JTempHumPressSpi.java</a></p></div><h2 id=intro>Intro</h2><p>This is an example project to demonstrate how to read the temperature, humidity and pressure from a <a href=https://www.adafruit.com/product/2652 target=_blank rel=noopener>BME280 sensor, installed on an Adafruit board</a> that can be controlled via I2C and SPI. Such a sensor itself is a very tiny component that can be integrated in phones and many other types of devices.</p><p>Typically, when you want to integrate such a device in a project, you&rsquo;ll need to dive into the <a href=https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme280-ds002.pdf target=_blank rel=noopener>Data Sheet</a> to find out how it needs to be controlled. If you want to better understand the code from this example, you can check the Data Sheet as the register read-outs and calculations are based on the example code you can find in that document.</p><p><div class="gallery caption-position-bottom caption-effect-slide hover-effect-zoom hover-transition" itemscope itemtype=http://schema.org/ImageGallery><link rel=stylesheet href=/css/hugo-easy-gallery.css><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_adafruit_1.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_adafruit_1.jpg alt="BME280 on an Adafruit board"></div><a href=/assets/examples/jbang/bme280/bme280_adafruit_1.jpg itemprop=contentUrl></a><figcaption><p>BME280 on an Adafruit board</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_adafruit_2.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_adafruit_2.jpg alt="BME280 on an Adafruit board"></div><a href=/assets/examples/jbang/bme280/bme280_adafruit_2.jpg itemprop=contentUrl></a><figcaption><p>BME280 on an Adafruit board</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_adafruit_3.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_adafruit_3.jpg alt="BME280 is very small"></div><a href=/assets/examples/jbang/bme280/bme280_adafruit_3.jpg itemprop=contentUrl></a><figcaption><p>BME280 is very small</p></figcaption></figure></div></div><script src=/js/load-photoswipe.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin=anonymous></script><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></p><h2 id=video>Video</h2><p>This tutorial is also explained in this video:</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/-CgjwthLy5c?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h2 id=enable-i2c-and-spi>Enable I2C and SPI</h2><p>We will be using both I2C and SPI for this experiment, so we need to make sure they are enabled:</p><ul><li>Open a terminal</li><li>Execute <code>sudo raspi-config</code></li><li>Go to &ldquo;Interface Options&rdquo;</li><li>Go to &ldquo;I2C&rdquo; and select &ldquo;Yes&rdquo;</li><li>Go to &ldquo;SPI&rdquo; and select &ldquo;Yes&rdquo;</li></ul><h2 id=wiring>Wiring</h2><h3 id=wiring-for-i2c>Wiring for I2C</h3><p>As this board can be controlled with both I2C and SPI, there are more available connections than we need for I2C. Make the following connections between the BME280 and a Raspberry Pi:</p><ul><li>Vin to 3.3V</li><li>GND to GND</li><li>SCK to I2C clock SCL (pin 5)</li><li>SDI to I2C data SDA (pin 3)</li><li>CS to 3.3V</li></ul><div class="notices tip"><p>The connection order is documented in the datasheet, and mentions that a connection between the CS pin and 3.3V is required to enable the I2C interface, before the VCC pin is connected to 3.3V. Failure to do this could lead to frustrating debugging&mldr;</p></div><p>In the wiring diagram, another brand of board (<a href=https://www.sparkfun.com/products/13676 target=_blank rel=noopener>Sparkfun</a>) is used, which has the I2C and SPI connections on different sides, but to align it with the pictures, the same connections are used as are available on the Adafruit board.</p><div class="gallery caption-position-bottom caption-effect-slide hover-effect-zoom hover-transition" itemscope itemtype=http://schema.org/ImageGallery><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_wiring_i2c.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_wiring_i2c.jpg alt="BME280 I2C wiring"></div><a href=/assets/examples/jbang/bme280/bme280_wiring_i2c.jpg itemprop=contentUrl></a><figcaption><p>BME280 I2C wiring</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_wiring_i2c_rpi.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_wiring_i2c_rpi.jpg alt="BME280 I2C wiring"></div><a href=/assets/examples/jbang/bme280/bme280_wiring_i2c_rpi.jpg itemprop=contentUrl></a><figcaption><p>BME280 I2C wiring</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(https://github.com/Pi4J/pi4j-jbang/raw/main/wiring/bme280_wiring_i2c_breadboard.png)><img itemprop=thumbnail src=https://github.com/Pi4J/pi4j-jbang/raw/main/wiring/bme280_wiring_i2c_breadboard.png alt="BME280 I2C wiring"></div><a href=https://github.com/Pi4J/pi4j-jbang/raw/main/wiring/bme280_wiring_i2c_breadboard.png itemprop=contentUrl></a><figcaption><p>BME280 I2C wiring</p></figcaption></figure></div></div><h4 id=check-the-i2c-wiring>Check the I2C Wiring</h4><p>After the wiring has been completed, you can check if the device is connected correctly by checking if the I2C device is detected. Make sure I2C is enabled on the Raspberry Pi, as mentioned before. When everything went OK, you should now see that a device is detected on I2C address 0x77:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ i2cdetect -y <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>0</span>  <span style=color:#ae81ff>1</span>  <span style=color:#ae81ff>2</span>  <span style=color:#ae81ff>3</span>  <span style=color:#ae81ff>4</span>  <span style=color:#ae81ff>5</span>  <span style=color:#ae81ff>6</span>  <span style=color:#ae81ff>7</span>  <span style=color:#ae81ff>8</span>  <span style=color:#ae81ff>9</span>  a  b  c  d  e  f
</span></span><span style=display:flex><span>00:                         -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
</span></span><span style=display:flex><span>70: -- -- -- -- -- -- -- <span style=color:#ae81ff>77</span>
</span></span></code></pre></div><p>On modern Raspberry Pi OS releases, you can run this command without sudo. The <code>-y</code> disables interactive mode, so it just goes ahead and scans. The <code>1</code> specifies the I2C bus.</p><h3 id=wiring-for-spi>Wiring for SPI</h3><p>Make the following connections between the BME280 and a Raspberry Pi:</p><ul><li>Vin to 3.3V</li><li>GND to GND</li><li>SDI to MOSI (BCM10, pin 19)</li><li>SDO to MISO (BCM9, pin 21)</li><li>SCK to SCLK (BCM11, pin 23)</li><li>CS to BCM21 (pin 40)</li></ul><p>In the wiring diagram, another brand of board (<a href=https://www.sparkfun.com/products/13676 target=_blank rel=noopener>Sparkfun</a>) is used, which has the I2C and SPI connections on different sides, but to align it with the pictures, the same connections are used as are available on the Adafruit board.</p><p><div class="gallery caption-position-bottom caption-effect-slide hover-effect-zoom hover-transition" itemscope itemtype=http://schema.org/ImageGallery><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_wiring_spi_overview.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_wiring_spi_overview.jpg alt="BME280 SPI wiring"></div><a href=/assets/examples/jbang/bme280/bme280_wiring_spi_overview.jpg itemprop=contentUrl></a><figcaption><p>BME280 SPI wiring</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_wiring_spi.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_wiring_spi.jpg alt="BME280 SPI wiring"></div><a href=/assets/examples/jbang/bme280/bme280_wiring_spi.jpg itemprop=contentUrl></a><figcaption><p>BME280 SPI wiring</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(/assets/examples/jbang/bme280/bme280_wiring_spi_rpi.jpg)><img itemprop=thumbnail src=/assets/examples/jbang/bme280/bme280_wiring_spi_rpi.jpg alt="BME280 SPI wiring"></div><a href=/assets/examples/jbang/bme280/bme280_wiring_spi_rpi.jpg itemprop=contentUrl></a><figcaption><p>BME280 SPI wiring</p></figcaption></figure></div><div class="box fancy-figure caption-position-center caption-effect-fade"><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img style=background-image:url(https://github.com/Pi4J/pi4j-jbang/raw/main/wiring/bme280_wiring_spi_breadboard.png)><img itemprop=thumbnail src=https://github.com/Pi4J/pi4j-jbang/raw/main/wiring/bme280_wiring_spi_breadboard.png alt="BME280 SPI wiring"></div><a href=https://github.com/Pi4J/pi4j-jbang/raw/main/wiring/bme280_wiring_spi_breadboard.png itemprop=contentUrl></a><figcaption><p>BME280 SPI wiring</p></figcaption></figure></div></div></p><h2 id=application>Application</h2><div class="notices warning"><p>Before proceeding with this example, make sure that you have a Raspberry Pi prepared to execute Java code with JBang as <a href=https://pi4j.com/examples/jbang/ target=_blank rel=noopener>explained here</a>.</p></div><p>Because I2C and SPI require different dependencies, imports and settings, two separate example files are provided:</p><ul><li>Pi4JTempHumPressI2C.java</li><li>Pi4JTempHumPressSpi.java</li></ul><p>Each of these two files contain all settings and code to be compiled and executed with JBang.</p><h3 id=dependencies-and-imports>Dependencies and Imports</h3><p>First we need to start with an extra line to instruct JBang to handle it as a Java application, and download the dependencies.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>///usr/bin/env jbang &#34;$0&#34; &#34;$@&#34; ; exit $?</span>
</span></span></code></pre></div><p>Then we can define the dependencies and imports.</p><h4 id=dependencies-and-imports-for-i2c>Dependencies and Imports for I2C</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>//DEPS org.slf4j:slf4j-api:1.7.35</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS org.slf4j:slf4j-simple:1.7.35</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-core:2.3.0</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-plugin-raspberrypi:2.3.0</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-plugin-linuxfs:2.3.0</span>
</span></span></code></pre></div><p>Then we can define the imports as we would do in any Java file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.Pi4J;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.util.Console;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.io.i2c.I2C;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.io.i2c.I2CConfig;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.io.i2c.I2CProvider;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.text.DecimalFormat;
</span></span></code></pre></div><h4 id=dependencies-and-imports-for-spi>Dependencies and Imports for SPI</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>///usr/bin/env jbang &#34;$0&#34; &#34;$@&#34; ; exit $?</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS org.slf4j:slf4j-api:1.7.35</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS org.slf4j:slf4j-simple:1.7.35</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-core:2.3.0</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-plugin-raspberrypi:2.3.0</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-plugin-linuxfs:2.3.0</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//DEPS com.pi4j:pi4j-plugin-pigpio:2.3.0</span>
</span></span></code></pre></div><p>Then we can define the imports as we would do in any Java file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.Pi4J;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.io.gpio.digital.DigitalOutput;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.io.gpio.digital.DigitalState;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.io.spi.*;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.pi4j.util.Console;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.text.DecimalFormat;
</span></span></code></pre></div><h3 id=main-method>Main Method</h3><p>The main method initializes the sensor, and loops 10 times to the process of resetting the sensor, reading the values, and pauzing.</p><h4 id=main-method-for-i2c>Main Method for I2C</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> Console console <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Console(); <span style=color:#75715e>// Pi4J Logger helper</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> I2C_BUS <span style=color:#f92672>=</span> 0x01;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> I2C_ADDRESS <span style=color:#f92672>=</span> 0x77; <span style=color:#75715e>// When connecting SDO to GND = 0x76</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> pi4j <span style=color:#f92672>=</span> Pi4J.<span style=color:#a6e22e>newAutoContext</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Initialize I2C</span>
</span></span><span style=display:flex><span>        console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Initializing the sensor via I2C&#34;</span>);
</span></span><span style=display:flex><span>        I2CProvider i2CProvider <span style=color:#f92672>=</span> pi4j.<span style=color:#a6e22e>provider</span>(<span style=color:#e6db74>&#34;linuxfs-i2c&#34;</span>);
</span></span><span style=display:flex><span>        I2CConfig i2cConfig <span style=color:#f92672>=</span> I2C.<span style=color:#a6e22e>newConfigBuilder</span>(pi4j)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>id</span>(<span style=color:#e6db74>&#34;BME280&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>bus</span>(I2C_BUS)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>device</span>(I2C_ADDRESS)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Read values 10 times</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> (I2C bme280 <span style=color:#f92672>=</span> i2CProvider.<span style=color:#a6e22e>create</span>(i2cConfig)) {   
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> counter <span style=color:#f92672>=</span> 0; counter <span style=color:#f92672>&lt;</span> 10; counter<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;**************************************&#34;</span>);
</span></span><span style=display:flex><span>                console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Reading values, loop &#34;</span> <span style=color:#f92672>+</span> (counter <span style=color:#f92672>+</span> 1));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                resetSensor(bme280);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>// The sensor needs some time to make the measurement</span>
</span></span><span style=display:flex><span>                Thread.<span style=color:#a6e22e>sleep</span>(300);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                getMeasurements(bme280);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                Thread.<span style=color:#a6e22e>sleep</span>(5000);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        pi4j.<span style=color:#a6e22e>shutdown</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;**************************************&#34;</span>);
</span></span><span style=display:flex><span>        console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Finished&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h4 id=main-method-for-spi>Main Method for SPI</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> Console console <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Console(); <span style=color:#75715e>// Pi4J Logger helper</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String SPI_PROVIDER_NAME <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;BME280 SPI Provider&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String SPI_PROVIDER_ID <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;BME280-spi&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> SpiChipSelect chipSelect <span style=color:#f92672>=</span> SpiChipSelect.<span style=color:#a6e22e>CS_0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> SpiBus spiBus <span style=color:#f92672>=</span> SpiBus.<span style=color:#a6e22e>BUS_0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> csPin <span style=color:#f92672>=</span> 21; <span style=color:#75715e>// BCM 21 = physical pin 40</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> DigitalOutput csGpio;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> Spi spi;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> pi4j <span style=color:#f92672>=</span> Pi4J.<span style=color:#a6e22e>newAutoContext</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Initialize SPI</span>
</span></span><span style=display:flex><span>        console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Initializing the sensor via SPI&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> csGpioConfig <span style=color:#f92672>=</span> DigitalOutput.<span style=color:#a6e22e>newConfigBuilder</span>(pi4j)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>id</span>(<span style=color:#e6db74>&#34;CS_pin&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>name</span>(<span style=color:#e6db74>&#34;CS&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>address</span>(csPin)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>shutdown</span>(DigitalState.<span style=color:#a6e22e>HIGH</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>initial</span>(DigitalState.<span style=color:#a6e22e>HIGH</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>provider</span>(<span style=color:#e6db74>&#34;pigpio-digital-output&#34;</span>);
</span></span><span style=display:flex><span>        csGpio <span style=color:#f92672>=</span> pi4j.<span style=color:#a6e22e>create</span>(csGpioConfig);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> spiConfig <span style=color:#f92672>=</span> Spi.<span style=color:#a6e22e>newConfigBuilder</span>(pi4j)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>id</span>(SPI_PROVIDER_ID)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>name</span>(SPI_PROVIDER_NAME)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>bus</span>(spiBus)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>chipSelect</span>(chipSelect)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>baud</span>(Spi.<span style=color:#a6e22e>DEFAULT_BAUD</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>mode</span>(SpiMode.<span style=color:#a6e22e>MODE_0</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>provider</span>(<span style=color:#e6db74>&#34;pigpio-spi&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>        spi <span style=color:#f92672>=</span> pi4j.<span style=color:#a6e22e>create</span>(spiConfig);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Read values 10 times</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> counter <span style=color:#f92672>=</span> 0; counter <span style=color:#f92672>&lt;</span> 10; counter<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;**************************************&#34;</span>);
</span></span><span style=display:flex><span>            console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Reading values, loop &#34;</span> <span style=color:#f92672>+</span> (counter <span style=color:#f92672>+</span> 1));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            resetSensor();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// The sensor needs some time to make the measurement</span>
</span></span><span style=display:flex><span>            Thread.<span style=color:#a6e22e>sleep</span>(300);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            getMeasurements();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            Thread.<span style=color:#a6e22e>sleep</span>(5000);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        pi4j.<span style=color:#a6e22e>shutdown</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;**************************************&#34;</span>);
</span></span><span style=display:flex><span>        console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Finished&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h3 id=reset-and-readout-of-the-values>Reset and Readout of the Values</h3><p>The reset and value readout is inspired by the Adafruit CircuitPython library and is <a href=https://github.com/Pi4J/pi4j-jbang/Pi4JTempHumPress.java target=_blank rel=noopener>fully available in the sources on GitHub</a>. It&rsquo;s a combination of setting and reading registers, with different calculations. For example, for the temperature:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> buff <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>6<span style=color:#f92672>]</span>;
</span></span><span style=display:flex><span>device.<span style=color:#a6e22e>readRegister</span>(BMP280Declares.<span style=color:#a6e22e>press_msb</span>, buff);
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> adc_T <span style=color:#f92672>=</span>  (<span style=color:#66d9ef>long</span>)  ((buff<span style=color:#f92672>[</span>3<span style=color:#f92672>]</span> <span style=color:#f92672>&amp;</span> 0xFF) <span style=color:#f92672>&lt;&lt;</span> 12) <span style=color:#f92672>|</span>  (<span style=color:#66d9ef>long</span>)  ((buff<span style=color:#f92672>[</span>4<span style=color:#f92672>]</span> <span style=color:#f92672>&amp;</span> 0xFF) <span style=color:#f92672>&lt;&lt;</span> 4) <span style=color:#f92672>|</span>  (<span style=color:#66d9ef>long</span>) ((buff<span style=color:#f92672>[</span>5<span style=color:#f92672>]</span> <span style=color:#f92672>&amp;</span> 0x0F) <span style=color:#f92672>&gt;&gt;</span> 4);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DecimalFormat df <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> DecimalFormat(<span style=color:#e6db74>&#34;0.###&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Temperature</span>
</span></span><span style=display:flex><span>device.<span style=color:#a6e22e>readRegister</span>(readReg, compVal);
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> dig_t1 <span style=color:#f92672>=</span> castOffSignInt(compVal);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>device.<span style=color:#a6e22e>readRegister</span>(BMP280Declares.<span style=color:#a6e22e>reg_dig_t2</span>, compVal);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> dig_t2 <span style=color:#f92672>=</span> signedInt(compVal);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>device.<span style=color:#a6e22e>readRegister</span>(BMP280Declares.<span style=color:#a6e22e>reg_dig_t3</span>, compVal);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> dig_t3 <span style=color:#f92672>=</span> signedInt(compVal);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> var1 <span style=color:#f92672>=</span> (((<span style=color:#66d9ef>double</span>) adc_T) <span style=color:#f92672>/</span> 16384.<span style=color:#a6e22e>0</span> <span style=color:#f92672>-</span> ((<span style=color:#66d9ef>double</span>) dig_t1) <span style=color:#f92672>/</span> 1024.<span style=color:#a6e22e>0</span>) <span style=color:#f92672>*</span> ((<span style=color:#66d9ef>double</span>) dig_t2);
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> var2 <span style=color:#f92672>=</span> ((((<span style=color:#66d9ef>double</span>) adc_T) <span style=color:#f92672>/</span> 131072.<span style=color:#a6e22e>0</span> <span style=color:#f92672>-</span> ((<span style=color:#66d9ef>double</span>) dig_t1) <span style=color:#f92672>/</span> 8192.<span style=color:#a6e22e>0</span>) <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>(((<span style=color:#66d9ef>double</span>) adc_T) <span style=color:#f92672>/</span> 131072.<span style=color:#a6e22e>0</span> <span style=color:#f92672>-</span> ((<span style=color:#66d9ef>double</span>) dig_t1) <span style=color:#f92672>/</span> 8192.<span style=color:#a6e22e>0</span>)) <span style=color:#f92672>*</span> ((<span style=color:#66d9ef>double</span>) dig_t3);
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> t_fine <span style=color:#f92672>=</span> (<span style=color:#66d9ef>int</span>) (var1 <span style=color:#f92672>+</span> var2);
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> temperature <span style=color:#f92672>=</span> (var1 <span style=color:#f92672>+</span> var2) <span style=color:#f92672>/</span> 5120.<span style=color:#a6e22e>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Temperature: &#34;</span> <span style=color:#f92672>+</span> df.<span style=color:#a6e22e>format</span>(temperature) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; °C&#34;</span>);
</span></span><span style=display:flex><span>console.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Temperature: &#34;</span> <span style=color:#f92672>+</span> df.<span style=color:#a6e22e>format</span>(temperature<span style=color:#f92672>*</span> 1.<span style=color:#a6e22e>8</span> <span style=color:#f92672>+</span> 32) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; °F &#34;</span>);
</span></span></code></pre></div><h2 id=running-the-application>Running the Application</h2><p>Because JBang can download the dependencies and compile the code, we just need the Java-file to execute it.</p><div class="notices tip"><p><strong>A side note regarding the humidity value:</strong> it turned out its value was lower compared to another device, while the temperature and pressure seemed to be close to expected. This appears to be a known issue. The manufacturer was involved in some hits and admits the chip can fall out of calibration depending storage and soldering conditions. They have a <a href="https://community.bosch-sensortec.com/t5/MEMS-sensors-forum/BME680-and-BME280-too-low-humidity/m-p/21794?attachment-id=2668" target=_blank rel=noopener>documented multistep process</a> where you store the chip at different temperatures to potentially get it back to the correct humidity readout.</p></div><h3 id=running-the-i2c-application>Running the I2C Application</h3><p>The I2C example uses the LinuxFS plugin of Pi4J. This means it can be executed without the need to use <code>sudo</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ jbang Pi4JTempHumPressI2C.java
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span> Resolving dependencies...
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    org.slf4j:slf4j-api:1.7.35
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    org.slf4j:slf4j-simple:1.7.35
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-core:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-raspberrypi:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-pigpio:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-linuxfs:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span> Dependencies resolved
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span> Building jar...
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.Pi4J - New auto context
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.Pi4J - New context builder
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.platform.impl.DefaultRuntimePlatforms - adding platform to managed platform map <span style=color:#f92672>[</span>id<span style=color:#f92672>=</span>raspberrypi; name<span style=color:#f92672>=</span>RaspberryPi Platform; priority<span style=color:#f92672>=</span>5; class<span style=color:#f92672>=</span>com.pi4j.plugin.raspberrypi.platform.RaspberryPiPlatform<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Initializing the sensor via I2C
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - **************************************
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Temperature: 21.287 °C
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Temperature: 70.316 °F 
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Pressure: 100412.769 Pa
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Pressure: 1.004 bar
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Pressure: 0.991 atm
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Humidity: 52.7 %
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - **************************************
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Reading values, loop <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - **************************************
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Finished
</span></span></code></pre></div><h3 id=running-the-spi-application>Running the SPI Application</h3><p>As the PiGpio plugin is used, this example application must be executed with <code>sudo</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sudo <span style=color:#e6db74>`</span>which jbang<span style=color:#e6db74>`</span> Pi4JTempHumPressSpi.java
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span> Resolving dependencies...
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    org.slf4j:slf4j-api:1.7.35
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    org.slf4j:slf4j-simple:1.7.35
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-core:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-raspberrypi:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-pigpio:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-linuxfs:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span>    com.pi4j:pi4j-plugin-pigpio:2.3.0
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span> Dependencies resolved
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>jbang<span style=color:#f92672>]</span> Building jar...
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.Pi4J - New auto context
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.Pi4J - New context builder
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.platform.impl.DefaultRuntimePlatforms - adding platform to managed platform map <span style=color:#f92672>[</span>id<span style=color:#f92672>=</span>raspberrypi; name<span style=color:#f92672>=</span>RaspberryPi Platform; priority<span style=color:#f92672>=</span>5; class<span style=color:#f92672>=</span>com.pi4j.plugin.raspberrypi.platform.RaspberryPiPlatform<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Initializing the sensor via SPI
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - **************************************
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Reading values, loop <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Temperature: 21.865 °C
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Temperature: 71.356 °F 
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Pressure: 100419.804 Pa
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Pressure: 1.004 bar
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Pressure: 0.991 atm
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Humidity: 49.74 %
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - **************************************
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Reading values, loop <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - **************************************
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>main<span style=color:#f92672>]</span> INFO com.pi4j.util.Console - Finished
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>Once again, JBang proves to be the perfect companion to experiment with Pi4J and an electronics component!</p><h2 id=read-more>Read More</h2><p>The following sources have been used for this example:</p><ul><li><a href=https://github.com/Pi4J/pi4j-example-devices/blob/master/src/main/java/com/pi4j/devices/bmp280/README.md target=_blank rel=noopener>Pi4J_V2-TemperatureSensor example code by Tom Aarts</a></li><li><a href=https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bmp280-ds001.pdf target=_blank rel=noopener>Bosch BMP280 Data Sheet</a></li><li><a href=https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme280-ds002.pdf target=_blank rel=noopener>Bosch BME280 Data Sheet</a></li><li><a href=https://github.com/boschsensortec/BME280_driver/tree/master target=_blank rel=noopener>Bosch example code on GitHub</a></li><li><a href=https://www.adafruit.com/product/2652 target=_blank rel=noopener>Product page: &ldquo;Adafruit BME280 I2C or SPI Temperature Humidity Pressure Sensor - STEMMA QT&rdquo;</a></li><li><a href=https://learn.adafruit.com/adafruit-bme280-humidity-barometric-pressure-temperature-sensor-breakout/pinouts target=_blank rel=noopener>Tutorial with Arduino code: &ldquo;Adafruit BME280 Humidity + Barometric Pressure + Temperature Sensor Breakout&rdquo;</a></li><li><a href=https://github.com/adafruit/Adafruit_CircuitPython_BME280/blob/main/adafruit_bme280/basic.py#L248 target=_blank rel=noopener>Adafruit_CircuitPython_BME280 library source code</a></li></ul><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1e3px;overflow:scroll;position:absolute;top:-1e3px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1760371040></script><script src=/js/perfect-scrollbar.min.js?1760371040></script><script src=/js/perfect-scrollbar.jquery.min.js?1760371040></script><script src=/js/jquery.sticky.js?1760371040></script><script src=/js/featherlight.min.js?1760371040></script><script src=/js/highlight.pack.js?1760371040></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1760371040></script><script src=/js/learn.js?1760371040></script><script src=/js/hugo-learn.js?1760371040></script><script src=/mermaid/mermaid.js?1760371040></script><script>mermaid.initialize({startOnLoad:!0})</script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script><script type=text/javascript>docsearch({appId:"QJ0EB8YHN3",apiKey:"8ddde1d36a62d9e2d7c4333239e6a2fc",indexName:"pi4j",container:"#docsearch",debug:!0})</script><script async data-id=101436817 src=//static.getclicky.com/js></script></body></html>