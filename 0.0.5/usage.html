<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2019-03-01
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190301" />
    <meta http-equiv="Content-Language" content="en" />
    <title>The Pi4J Project - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<META CONTENT="NO-CACHE" HTTP-EQUIV="CACHE-CONTROL"/>
                      
        
<META CONTENT="NO-CACHE" HTTP-EQUIV="PRAGMA"/>
                      
        
<META CONTENT="Copyright Â© 2012 Pi4J. All Rights Reserved." NAME="COPYRIGHT"/>
                      
        
<META CONTENT="raspberry, pi, raspberrypi, raspi, java, pi4j, java pi, gpio, input, output, io" NAME="KEYWORDS"/>
                      
        
<META CONTENT="ALL" NAME="ROBOTS"/>
                      
        
<META CONTENT="The Pi4J Project provides Java programmer&apos;s full IO control to a Raspberry Pi" NAME="DESCRIPTION"/>
                      
        
<META CONTENT="Robert Savage" NAME="AUTHOR"/>
                      
        
<script type="text/javascript">var _gaq = _gaq || [];
			  _gaq.push(['_setAccount', 'UA-35332834-1']);
			  _gaq.push(['_setDomainName', 'pi4j.com']);
			  _gaq.push(['_trackPageview']);
			
			  (function() {
			    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			  })();</script>
          
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="./" id="bannerLeft">
                                                                                                <img src="images/logos/pi4j-header-small3.png"  alt="Pi4J"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://www.raspberrypi.org/" id="bannerRight">
                                                                                                <img src="images/logos/trademarks.png"  alt="The Pi4J Project"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2019-03-01</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.0.5</li>
                      
                
                    
      
                                              
    <li class="pull-right">              <a href="http://www.savagehomeautomation.com/projects/category/pi4j" class="externalLink" target="_blank" title="Blog">
        Blog</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="https://twitter.com/pi4j" class="externalLink" target="_blank" title="@Pi4J (Twitter)">
        @Pi4J (Twitter)</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="https://groups.google.com/forum/#!forum/pi4j" class="externalLink" target="pi4j-groups" title="Forum">
        Forum</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="https://github.com/Pi4J/pi4j-v1/issues/" class="externalLink" target="pi4j-github" title="Issues">
        Issues</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="https://github.com/Pi4J/pi4j-v1/" class="externalLink" target="pi4j-github" title="Github">
        Github</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="download.html" title="Downloads">
        Downloads</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="./" title="Home">
        Home</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Pi4J</li>
                                
      <li>
    
                          <a href="index.html" title="Welcome">
          <i class="none"></i>
        Welcome</a>
            </li>
                  
      <li>
    
                          <a href="team-list.html" title="The Team">
          <i class="none"></i>
        The Team</a>
            </li>
                  
      <li>
    
                          <a href="contact.html" title="Contact">
          <i class="none"></i>
        Contact</a>
            </li>
                  
      <li>
    
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                  
      <li>
    
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                  
      <li>
    
                          <a href="dependency.html" title="Dependencies">
          <i class="none"></i>
        Dependencies</a>
            </li>
                  
      <li>
    
                          <a href="release-notes.html" title="Release Notes">
          <i class="none"></i>
        Release Notes</a>
            </li>
                  
      <li>
    
                          <a href="download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                  
      <li>
    
                          <a href="install.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Usage</a>
          </li>
                  
      <li>
    
                          <a href="apidocs/index.html" target="pi4j-javadoc" title="JavaDoc">
          <i class="none"></i>
        JavaDoc</a>
            </li>
                              <li class="nav-header">Examples</li>
                                
      <li>
    
                          <a href="example/control.html" title="Control GPIO">
          <i class="none"></i>
        Control GPIO</a>
            </li>
                  
      <li>
    
                          <a href="example/listener.html" title="Listen for GPIO Events">
          <i class="none"></i>
        Listen for GPIO Events</a>
            </li>
                  
      <li>
    
                          <a href="example/shutdown.html" title="Shutdown GPIO">
          <i class="none"></i>
        Shutdown GPIO</a>
            </li>
                  
      <li>
    
                          <a href="example/trigger.html" title="Trigger GPIO on Events">
          <i class="none"></i>
        Trigger GPIO on Events</a>
            </li>
                  
      <li>
    
                          <a href="example/serial.html" title="Serial Communication">
          <i class="none"></i>
        Serial Communication</a>
            </li>
                  
      <li>
    
                          <a href="example/system-info.html" title="System/Network Information">
          <i class="none"></i>
        System/Network Information</a>
            </li>
                              <li class="nav-header">Project Development</li>
                                
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="none"></i>
        Project Information</a>
            </li>
                  
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="none"></i>
        Project Reports</a>
            </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="http://www.raspberrypi.org/" title="RaspberryPi" class="builtBy">
        <img class="builtBy"  alt="RaspberryPi" src="images/logos/raspberrypi.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Usage <a name="Usage"></a></h2>
<ul>
<li><a href="#Import_Pi4J_Packages">Import Pi4J Packages</a></li>
<li><a href="#Create_Controller_Instance">Create Controller Instance</a></li>
<li><a href="#Pin_Numbering">Pin Numbering</a></li>
<li><a href="#Provision_Pins">Provision Pins</a></li>
<li><a href="#Control_Pin_State">Control Pin State</a></li>
<li><a href="#Read_Pin_State">Read Pin State</a></li>
<li><a href="#Listen_for_Pin_Changes">Listen for Pin Changes</a></li>
<li><a href="#Pin_Shutdown">Pin Shutdown</a></li>
<li><a href="#Pin_Triggers">Pin Triggers</a></li>
<li><a href="#Serial_Communication">Serial Communication</a></li>
<li><a href="#System_Information">System Information</a></li></ul>
<div class="section">
<h3>Import Pi4J Packages<a name="Import_Pi4J_Packages"></a></h3>
<p>To implement Pi4J, you will need to include a number of Pi4J packages into your project classes. The following list includes the majority of the Pi4J imports that you would need. You probably will not require all of these imports in your project, you can remove any unused imports. </p>
<div class="source">
<pre>import com.pi4j.io.gpio.GpioController;
import com.pi4j.io.gpio.GpioFactory;
import com.pi4j.io.gpio.GpioPin;
import com.pi4j.io.gpio.GpioPinDigitalInput;
import com.pi4j.io.gpio.GpioPinDigitalOutput;
import com.pi4j.io.gpio.PinDirection;
import com.pi4j.io.gpio.PinMode;
import com.pi4j.io.gpio.PinPullResistance;
import com.pi4j.io.gpio.PinState;
import com.pi4j.io.gpio.RaspiPin;
import com.pi4j.io.gpio.trigger.GpioCallbackTrigger;
import com.pi4j.io.gpio.trigger.GpioPulseStateTrigger;
import com.pi4j.io.gpio.trigger.GpioSetStateTrigger;
import com.pi4j.io.gpio.trigger.GpioSyncStateTrigger;
import com.pi4j.io.gpio.event.GpioPinListener;
import com.pi4j.io.gpio.event.GpioPinDigitalStateChangeEvent;
import com.pi4j.io.gpio.event.GpioPinEvent;
import com.pi4j.io.gpio.event.GpioPinListenerDigital;
import com.pi4j.io.gpio.event.PinEventType;

</pre></div></div>
<div class="section">
<h3>Create Controller Instance<a name="Create_Controller_Instance"></a></h3>
<p>Before interacting with Pi4J, you must first create a new GPIO controller instance. The <i>GpioFactory</i> includes a <i>createInstance</i> method to create the GPIO controller. Your project should only instantiate a single GPIO controller instance and that instance should be shared across your project. </p>
<div class="source">
<pre>// create gpio controller instance
final GpioController gpio = GpioFactory.getInstance();
</pre></div></div>
<div class="section">
<h3>Pin Numbering<a name="Pin_Numbering"></a></h3>
<p>Pi4J uses an abstract pin numbering scheme to help insulate software from hardware changes.&#160; P14J implements the same pin number scheme as the Wiring Pi project. More information about the WiringPi pin number scheme can be found here: <a class="externalLink" href="https://projects.drogon.net/raspberry-pi/wiringpi/pins/">https://projects.drogon.net/raspberry-pi/wiringpi/pins/</a></p>
<p>Pi4J provides a <a href="./apidocs/index.html?com/pi4j/io/gpio/Pin.html">Pin</a> enumeration that is used to manage the accessible GPIO pins. </p><img src="./images/p1header.png" alt="" />
<p><a href="./images/p1header-large.png">(click here for hi-resolution image)</a></p>
<p>&#160;</p>
<p>NOTE: The P5 header is only available on board revisions 2.0 and newer.</p><img src="./images/p5header.png" alt="" />
<p><a href="./images/p5header-large.png">(click here for hi-resolution image)</a></p></div>
<div class="section">
<h3>Provision Pins<a name="Provision_Pins"></a></h3>
<p>To access a GPIO pin, you must first provision the pin.<br />Provisioning configures the pin based on how you intend to use it. Provisioning can automatically export the pin, set its direction, and setup any edge detection for interrupt based events.</p>
<p>The following example demonstrates how to provision an INPUT pin. Input pins are pins that your program will monitor for state change or interrogate state when needed. Input pins are used for switches, sensors, etc. </p>
<div class="source">
<pre>        // provision gpio pin #02 as an input pin with its internal pull down resistor enabled
        // (configure pin edge to both rising and falling to get notified for HIGH and LOW state
        // changes)
        GpioPinDigitalInput myButton = gpio.provisionDigitalInputPin(RaspiPin.GPIO_02,             // PIN NUMBER
                                                                     &quot;MyButton&quot;,                   // PIN FRIENDLY NAME (optional)
                                                                     PinPullResistance.PULL_DOWN); // PIN RESISTANCE (optional)

</pre></div>
<p>The following example demonstrates how to provision an OUTPUT pin.<br />Output pins are pins that your program will control state changes. Output pins are used for controlling relays, LEDs, transistors, etc. </p>
<div class="source">
<pre>// provision gpio pins #04 as an output pin and make sure is is set to LOW at startup
GpioPinDigitalOutput myLed = gpio.provisionDigitalOutputPin(RaspiPin.GPIO_04,   // PIN NUMBER
                                                           &quot;My LED&quot;,           // PIN FRIENDLY NAME (optional)
                                                           PinState.LOW);      // PIN STARTUP STATE (optional)
</pre></div></div>
<div class="section">
<h3>Control Pin State<a name="Control_Pin_State"></a></h3>
<p>P14J provides a number of convenience method for controlling or writing a state to a GPIO pin.<br />The examples below demonstrate a few of the controlling methods you can invoke on a GPIO pin. </p>
<div class="source">
<pre>        // explicitly set a state on the pin object
        myLed.setState(PinState.HIGH);

        // use convenience wrapper method to set state on the pin object
        myLed.low();
        myLed.high();

        // use toggle method to apply inverse state on the pin object
        myLed.toggle();

        // use pulse method to set the pin to the HIGH state for
        // an explicit length of time in milliseconds
        myLed.pulse(1000);
</pre></div>
<p>A complete example project demonstrating the control of GPIO pins is provided <a href="./example/control.html">here</a>.</p></div>
<div class="section">
<h3>Read Pin State<a name="Read_Pin_State"></a></h3>
<p>P14J provides a number of convenience method for reading/interrogating the current state to a GPIO pin.<br />The examples below demonstrate a few of the reading methods you can invoke on a GPIO pin. </p>
<div class="source">
<pre>        // get explicit state enumeration for the GPIO pin associated with the button
        PinState myButtonState = myButton.getState();

        // use convenience wrapper method to interrogate the button state
        boolean buttonPressed = myButton.isHigh();
</pre></div></div>
<div class="section">
<h3>Listen for Pin Changes<a name="Listen_for_Pin_Changes"></a></h3>
<p>Pi4J provides an implementation for monitoring GPIO pin interrupts. This is a far more efficient method for actively monitoring pin states versus constantly polling and interrogating the pin state.</p>
<p>You must create a class that implements the <i>GpioListener</i> interface. This interface simply contain a single method <i>pinStateChanged(GpioPinStateChangeEvent event)</i> that is used to notify the listener class when a pin change event has occurred.<br />The following snippet demonstrates a simple listener implementation: </p>
<div class="source">
<pre>public static class GpioUsageExampleListener implements GpioPinListenerDigital {
    @Override
    public void handleGpioPinDigitalStateChangeEvent(GpioPinDigitalStateChangeEvent event) {
        // display pin state on console
        System.out.println(&quot; --&gt; GPIO PIN STATE CHANGE: &quot; + event.getPin() + &quot; = &quot;
                + event.getState());
    }
}
</pre></div>
<p>To setup your listener, you must register the listener with a pin and instantiate your listener impl.</p>
<div class="source">
<pre>// create and register gpio pin listener
myButton.addListener(new GpioUsageExampleListener());
</pre></div>
<p>A complete example project demonstrating the listening for GPIO pin state changes is provided <a href="./example/listener.html">here</a>.</p></div>
<div class="section">
<h3>Pin Shutdown<a name="Pin_Shutdown"></a></h3>
<p>Pi4J provides an implementation to automatically set GPIO pin states when the application is terminated. This is useful to ensure that the GPIO pins states are not active or leaving some activity engaged if the program is shutdown. </p>
<p>You can simply use the <i>setShutdownOptions</i> method on the <i>GpioPin</i> instance to configure the desired shutdown behavior to be applied. The following snippet demonstrates a simple GPIO pin shutdown configuration implementation: </p>
<div class="source">
<pre>// configure the pin shutdown behavior; these settings will be 
// automatically applied to the pin when the application is terminated
// ensure that the LED is turned OFF when the application is shutdown
myLed.setShutdownOptions(true, PinState.LOW, PinPullResistance.OFF);
</pre></div>
<p>A complete example project demonstrating the GPIO pin shutdown configuration is provided <a href="./example/shutdown.html">here</a>.</p></div>
<div class="section">
<h3>Pin Triggers<a name="Pin_Triggers"></a></h3>
<p>P14J provides a series of <i>GpioTriggers</i> that can perform actions on GPIO pins based on the state change of another pin. Triggers also provide an extensible interface that allow you to extend and create your own custom triggers.&#160; The following snippet demonstrates a simple ''follow-me' trigger implementation: </p>
<div class="source">
<pre>// create a gpio synchronization trigger on the input pin
// when the input state changes, also set LED controlling gpio pin to same state
myButton.addTrigger(new GpioSyncStateTrigger(myLed));
</pre></div>
<p>A complete example project demonstrating the GPIO pin triggers is provided <a href="./example/trigger.html">here</a>.<br />(This example includes all available provided triggers.)</p></div>
<div class="section">
<h3>Serial Communication<a name="Serial_Communication"></a></h3>
<p>P14J provides a simplified API to send and receive data using a serial port of the Raspberry's Pi.<br />The following example project demonstrates implementing serial communication:<br /><a href="./example/serial.html">Serial Communication Example</a>.</p></div>
<div class="section">
<h3>System Information<a name="System_Information"></a></h3>
<p>P14J provides an API to access system and network information from the Raspberry's Pi.<br />The following example project demonstrates accessing system and network information:<br /><a href="./example/system-info.html">System Information Example</a>.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2012-2019
                        <a href="http://www.pi4j.com">Pi4J</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
